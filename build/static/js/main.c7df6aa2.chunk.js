(this["webpackJsonpopendex-app"]=this["webpackJsonpopendex-app"]||[]).push([[0],{1125:function(e,t){},1231:function(e,t,n){},1232:function(e,t,n){"use strict";n.r(t);var a,r=n(43),c=n.n(r),i=n(1316),s=n(578),o=n(1315),u=n(85),l=n(0),d=n.n(l),p=n(235),b=n(45),T=n(12),m=n(60),O=n(13),j=n(1);!function(e){e.Mainnet="MAINNET",e.Testnet="TESTNET",e.Regtest="REGTEST"}(a||(a={}));var h,A=a.Testnet,f=d.a.createContext({network:A,setNetwork:function(){}}),E=function(e){var t=e.children,n=d.a.useState(A),a=Object(T.a)(n,2),r=a[0],c=a[1];return Object(j.jsx)(f.Provider,{value:{network:r,setNetwork:c},children:Object(j.jsx)(j.Fragment,{children:t})})},x=function(){return d.a.useContext(f)},v=function(){for(var e=d.a.useContext(f).network,t=new Map,n=0,a=Object.keys(O.c);n<a.length;n++){var r=a[n],c={address:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"})["REACT_APP_".concat(e,"_EXPLORER_").concat(r,"_ADDRESS")],transaction:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"})["REACT_APP_".concat(e,"_EXPLORER_").concat(r,"_TRANSACTION")]};void 0!==c.address&&void 0!==c.transaction&&t.set(r,c)}return t},R=function(){var e=d.a.useContext(f).network,t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return{apiEndpoint:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"})["REACT_APP_BOLTZ_".concat(e,"_API")],infuraId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"})["REACT_APP_BOLTZ_".concat(e,"_INFURA_ID")],bitcoinConstants:m.Networks["bitcoin".concat(t(e.toLowerCase()))],litecoinConstants:m.Networks["litecoin".concat(t(e.toLowerCase()))]}},g=n(560),C=n.n(g),_=d.a.createContext(null),S=function(e){var t=e.children,n=C.a.mobile();return Object(j.jsx)(_.Provider,{value:{isMobileView:n},children:Object(j.jsx)(j.Fragment,{children:t})})},P=n(22),N=n(1290),w=n(1283),I=n(1325),L=n(8),y=n(10),D=n(1280),k=n(195),B=n(1331),M=n(1323),H=n(158),X=n(1281),U=n(1282),F=n(1319),G=n(40),Z=n.n(G),Q=n(1279),W=n(111),q=n(204),K=function(e){switch(e){case O.c.BTC:case O.c.LIGHTNING_BTC:return"BTC";case O.c.LTC:case O.c.LIGHTNING_LTC:return"LTC";case O.c.ETH:return"ETH";case O.c.ETH_USDT:return"USDT";default:throw new Error("currency not supported by Boltz API")}},V=function(e){switch(e){case O.c.BTC:case O.c.LTC:case O.c.ETH:case O.c.ETH_USDT:return!0;case O.c.LIGHTNING_BTC:case O.c.LIGHTNING_LTC:return!1;default:throw new Error("unsupported CurrencyID - this should not happen")}},z=function(e,t,n,a){var r=e.currency,c=e.amount,i=t.filter((function(e){return e!==r}))[0];if(!n)return{amountWithFees:{amount:new Z.a("0"),currency:i}};var s,o,u=!!n.pairs["".concat(K(r),"/").concat(K(i))],l=u?n.pairs["".concat(K(r),"/").concat(K(i))]:n.pairs["".concat(K(i),"/").concat(K(r))],d=l.rate,p=l.fees;a&&u||!a&&u?(s=new Z.a(d).multipliedBy(c),o=p.minerFees.quoteAsset):(s=c.div(new Z.a(d)),o=p.minerFees.baseAsset);var b=new Z.a(p.percentage).div(new Z.a("100")).multipliedBy(s),T=V(a?r:i),m=function(){var e=new Z.a("10").pow("8");return T?new Z.a(o.normal).div(e):new Z.a(o.reverse.claim).div(e).plus(new Z.a(o.reverse.lockup).div(e))}();return{amountWithFees:{amount:a?s.minus(b).minus(m):s.plus(b).plus(m),currency:i}}},Y=function(){function e(t){var n=this;Object(L.a)(this,e),this.rates$=void 0,this.rates$subscription=void 0,this.formatPair=function(e){return n.rates$.pipe(Object(k.a)((function(t){var n=K(e[0]),a=K(e[1]),r=void 0===t.pairs["".concat(n,"/").concat(a)];return{pairId:r?"".concat(a,"/").concat(n):"".concat(n,"/").concat(a),orderSide:r?"buy":"sell"}})),Object(B.a)(1)).toPromise()},this.getLimits=function(e){return n.rates$.pipe(Object(k.a)((function(t){var n,a,r=K(e[0]),c=K(e[1]),i=t.pairs["".concat(r,"/").concat(c)];return i?(a=new Z.a(i.limits.maximal),n=new Z.a(i.limits.minimal)):(i=t.pairs["".concat(c,"/").concat(r)],a=new Z.a(i.limits.maximal).dividedBy(i.rate),n=new Z.a(i.limits.minimal).dividedBy(i.rate)),{minimal:n.dividedBy(Math.pow(10,8)),maximal:a.dividedBy(Math.pow(10,8))}})),Object(B.a)(1)).toPromise()},this.rates$=Object(Q.a)(15e3).pipe(Object(M.a)(0),Object(H.a)((function(){return Object(D.a)(t.url).pipe(Object(X.a)((function(e){return e.ok?Object(W.a)(e.json()):(console.warn("Response code from Boltz API is not OK"),Object(q.a)(null))})),Object(U.a)((function(e){return console.warn("Network or other error from Boltz API",e),Object(q.a)(null)})),Object(F.a)({bufferSize:1,refCount:!0}))}))),this.rates$subscription=this.rates$.subscribe((function(){}))}return Object(y.a)(e,[{key:"previewGivenSend",value:function(e,t){return this.rates$.pipe(Object(k.a)((function(n){return z(e,t,n,!0)})),Object(B.a)(1)).toPromise()}},{key:"previewGivenReceive",value:function(e,t){return this.rates$.pipe(Object(k.a)((function(n){return z(e,t,n,!1)})),Object(B.a)(1)).toPromise()}},{key:"isPairSupported",value:function(e){return!0}},{key:"clean",value:function(){this.rates$subscription.unsubscribe()}}]),e}();!function(e){e.InvoicePaid="invoice.paid",e.InvoiceSettled="invoice.settled",e.InvoiceSet="invoice.set",e.InvoiceFailedToPay="invoice.failedToPay",e.InvoicePending="invoice.pending",e.TransactionFailed="transaction.failed",e.TransactionLockupFailed="transaction.lockupFailed",e.TransactionMempool="transaction.mempool",e.TransactionClaimed="transaction.claimed",e.TransactionRefunded="transaction.refunded",e.TransactionConfirmed="transaction.confirmed",e.ChannelCreated="channel.created",e.MinerFeePaid="minerfee.paid",e.SwapExpired="swap.expired"}(h||(h={}));var J=[{status:[h.TransactionMempool],initialText:"Waiting for transaction",textComplete:"Transaction detected in mempool"},{status:[h.TransactionConfirmed,h.InvoicePending,h.ChannelCreated],initialText:"Waiting for one confirmation",textComplete:"Transaction confirmed"},{status:[h.InvoicePaid],initialText:"Paying your invoice",textComplete:"Invoice paid"},{status:[h.TransactionClaimed],initialText:"Transaction complete",textComplete:"Transaction complete"}],$=n(62),ee=n(1332),te=n(59),ne=function(){return JSON.parse(localStorage.getItem("boltzReverseSwaps")||"[]")},ae=function(e){localStorage.setItem("boltzReverseSwaps",JSON.stringify(e))},re=function(e,t,n,a,r,c){var i=Object($.f)(a.redeemScript),s=te.Transaction.fromHex(n.transaction.hex);return Object(m.constructClaimTransaction)([Object(P.a)(Object(P.a)({},Object(m.detectSwap)(i,s)),{},{redeemScript:i,txHash:s.getHash(),preimage:t.preImage,keys:te.ECPair.fromPrivateKey(Object($.f)(t.privateKey))})],te.address.toOutputScript(t.address,r),c[e],!1)},ce=n(71),ie=function e(t,n,a){var r=new EventSource("".concat(Object(ce.g)(n),"?id=").concat(t));r.onmessage=function(e){var t=JSON.parse(e.data);a(t,r)},r.onerror=function(c){console.log("error:",c),null===r||void 0===r||r.close(),setTimeout((function(){return e(t,n,a)}),2e3)}},se=function(e){return J.map((function(e){return e.status})).concat([h.InvoiceSet]).some((function(t){return t.includes(e.status)}))?"":e.status===h.InvoiceFailedToPay?"Failed to pay the invoice. Please refund your coins.":e.status===h.TransactionLockupFailed?"Deposited amount is insufficient. Please refund your coins.":e.status===h.SwapExpired?"Swap expired. Please refund your coins if you transferred any to the provided address.":e.failureReason||"Error: Unknown status"},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?n&&h.TransactionMempool===e.status||[h.TransactionConfirmed,h.SwapExpired,h.TransactionRefunded,h.TransactionFailed].includes(e.status):h.TransactionClaimed===e.status||!!e.failureReason},ue=n(4),le=n.n(ue),de=n(28),pe=n(557),be=n(1294),Te=n(1327),me=n(1296);function Oe(){var e=Object(l.useState)(null),t=Object(T.a)(e,2),n=t[0],a=t[1],r=R().apiEndpoint,c=Object(ce.e)(r);return Object(l.useEffect)((function(){var e=new Y({url:c});return a(e),function(){return e.clean()}}),[c]),n}var je=function(e,t){var n=e.trim();if(""!==e)try{return te.address.toOutputScript(n,t),!0}catch(a){return!1}return!1},he=n(125),Ae=n(561),fe=n.p+"static/media/Boltz.c61193c1.svg",Ee=n.p+"static/media/Camera.a36fd88a.svg",xe=n.p+"static/media/Cameraclock.b6acfbba.svg",ve=n.p+"static/media/close.12f855c1.svg",Re=n.p+"static/media/comit-logo-black.4f652f36.svg",ge=n.p+"static/media/comit-logo.0328cc4b.svg",Ce=n.p+"static/media/Demo.617fe157.svg",_e=n.p+"static/media/external-link.776e16a6.svg",Se=n.p+"static/media/fast.0264c1b6.svg",Pe=n.p+"static/media/green-tick.5b178778.svg",Ne=n.p+"static/media/hacked.ec2f1feb.svg",we=n.p+"static/media/hamburger.de80e93f.svg",Ie=n.p+"static/media/Homepage.b7ae0e06.svg",Le=n.p+"static/media/left-arrow.2feea2ae.svg",ye=n.p+"static/media/media.7ad4ed6d.svg",De=n.p+"static/media/medium.1161de90.svg",ke=n.p+"static/media/sawp.4e320fa1.svg",Be=n.p+"static/media/Oval.b493606f.svg",Me=n.p+"static/media/question-icon.bb33ebf0.svg",He=n.p+"static/media/right-arrow-white.aba1fd29.svg",Xe=n.p+"static/media/right-arrow.3357235f.svg",Ue=n.p+"static/media/safe.13a9170e.svg",Fe=n.p+"static/media/Shape.2b8977ad.svg",Ge=n.p+"static/media/snap.cf3d71cc.svg",Ze=n.p+"static/media/success.d32dcc35.svg",Qe=n.p+"static/media/swap.0fc0cd4c.svg",We=n.p+"static/media/tdex-logo.38d34c6d.svg",qe={leftArrow:Le,rightArrowPlain:Xe,rightArrow:He,camera:Ee,greenTick:Pe,swap:Qe,snap:Ge,clock:xe,logo:Fe,boltz:fe,opendex:ke,fast:Se,safe:Ue,hacked:Ne,medium:De,media:ye,twitter:n.p+"static/media/twitter.e7e7fedd.svg",demo:Ce,homepage:Ie,homepagemin:"data:image/png;base64,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",oval:Be,close:ve,hamburger:we,questionIcon:Me,externalLinkIcon:_e,comitLogo:ge,comitLogoBlack:Re,tdexLogo:We,success:Ze},Ke=n(562),Ve=n.n(Ke),ze=n(131),Ye=n.n(ze),Je=n(1317),$e=n(198),et=Object.fromEntries(Object.entries(O.d).map((function(e){var t=Object(T.a)(e,2);return[t[0],t[1].find((function(e){return"2"===e.value}))]}))),tt={unit:Object(P.a)(Object(P.a)({},et),JSON.parse(localStorage.getItem("boltzUnits")||"{}")),ethereumData:void 0},nt=Object($e.b)({name:"boltz",initialState:tt,reducers:{setUnit:function(e,t){e.unit=Object(P.a)(Object(P.a)({},e.unit),t.payload),localStorage.setItem("boltzUnits",JSON.stringify(e.unit))},setEthereumData:function(e,t){e.ethereumData=t.payload}}}),at=nt.actions,rt=at.setUnit,ct=at.setEthereumData,it=function(e){return e.boltz.unit},st=function(e){return e.boltz.ethereumData},ot=nt.reducer,ut=function(){return Object(p.b)()},lt=p.c,dt=n(563),pt=n.n(dt),bt=n(564),Tt=n.n(bt),mt=function(){var e=Object(de.a)(le.a.mark((function e(t,n){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},void 0!==t&&(a.walletconnect={package:pt.a,options:{infuraId:n}}),e.abrupt("return",new Tt.a({providerOptions:a,cacheProvider:!0,theme:"dark",network:t}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ot=n(199),jt=n(1285),ht=n(1286),At=n(1287),ft=["className","loading"],Et=function(e){return!e.color||"default"===e.color},xt=Object(w.a)((function(e){return{button:function(t){return{borderRadius:0,backgroundColor:Et(t)&&"contained"===t.variant?"rgb(0, 110, 255)":void 0,"&:hover":{backgroundColor:Et(t)?"rgb(98, 0, 255)":void 0},color:Et(t)?e.palette.text.primary:void 0}},buttonWrapper:{position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),vt=function(e){var t=e.className,n=e.loading,a=Object(Ot.a)(e,ft),r=xt(e),c="".concat(r.button," ").concat(t);return Object(j.jsx)(jt.a,{fullWidth:a.fullWidth,children:Object(j.jsxs)("div",{className:r.buttonWrapper,children:[Object(j.jsx)(ht.a,Object(P.a)({disableElevation:!0,className:c},a)),n&&Object(j.jsx)(At.a,{size:24,className:r.buttonProgress})]})})},Rt=Object(w.a)((function(){return Object(I.a)({buttonsContainer:{marginTop:"1rem"}})})),gt=function(e){return Object(j.jsx)("div",{id:"jazzicon",ref:function(t){null!==t&&(!function(e){for(;e.lastChild;)e.removeChild(e.lastChild)}(t),t.appendChild(Ve()(40,parseInt(e.address.slice(2,10),16))))}})},Ct=function(e){var t=e.setError,n=e.setSigner,a=e.setWrongChain,r=ut(),c=lt(st),i=R(),s=i.apiEndpoint,o=i.infuraId,u=Object(l.useState)(void 0),d=Object(T.a)(u,2),p=d[0],b=d[1],m=Object(l.useState)(void 0),O=Object(T.a)(m,2),h=O[0],A=O[1],f=Object(l.useState)(void 0),E=Object(T.a)(f,2),x=E[0],v=E[1],g=Rt();Object(l.useEffect)((function(){Object(de.a)(le.a.mark((function e(){var t,a,c,i,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.a.get(Object(ce.c)(s));case 2:return t=e.sent.data.ethereum,r(ct(t)),e.next=6,mt(t.network.name,o);case 6:if(!(a=e.sent).cachedProvider){e.next=20;break}return e.next=10,a.connect();case 10:return c=e.sent,b(c),i=new Je.b.Web3Provider(c),u=i.getSigner(),e.t0=v,e.next=17,u.getAddress();case 17:e.t1=e.sent,(0,e.t0)(e.t1),n(u);case 20:A(a);case 21:case"end":return e.stop()}}),e)})))()}),[o,s,r,n]);var C=Object(l.useCallback)((function(){var e=c.network.name||"with id ".concat(c.network.chainId);t("Ethereum wallet is not on network ".concat(e)),a(!0)}),[c,t,a]);Object(l.useEffect)((function(){if(p)return p.on("accountsChanged",function(){var e=Object(de.a)(le.a.mark((function e(t){var a,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=11;break}return a=new Je.b.Web3Provider(p),r=a.getSigner(),e.t0=v,e.next=6,r.getAddress();case 6:e.t1=e.sent,(0,e.t0)(e.t1),n(r),e.next=13;break;case 11:v(void 0),n(void 0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.on("chainChanged",Object(de.a)(le.a.mark((function e(){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Je.b.Web3Provider(p),r=n.getSigner(),e.next=4,r.getChainId();case 4:e.sent===c.network.chainId?(t(""),a(!1)):C();case 6:case"end":return e.stop()}}),e)})))),function(){p.removeAllListeners()}}),[p,c,n,t,C,a]);var _=function(){var e=Object(de.a)(le.a.mark((function e(){var r,i,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(""),a(!1),n(void 0),v(void 0),h.clearCachedProvider(),e.next=8,h.connect();case 8:return r=e.sent,i=new Je.b.Web3Provider(r),b(r),s=i.getSigner(),e.next=14,s.getChainId();case 14:if(e.t0=e.sent,e.t1=c.network.chainId,e.t0!==e.t1){e.next=25;break}return e.t2=v,e.next=20,s.getAddress();case 20:e.t3=e.sent,(0,e.t2)(e.t3),n(s),e.next=26;break;case 25:C();case 26:e.next=30;break;case 28:e.prev=28,e.t4=e.catch(0);case 30:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:void 0===x?Object(j.jsx)("div",{children:!!h&&Object(j.jsx)(vt,{variant:"outlined",color:"primary",onClick:_,children:"Connect Ethereum wallet"})}):Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",alignItems:"center",spacing:1,children:[Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)(gt,{address:x})}),Object(j.jsxs)(N.a,{item:!0,children:["Connected to ",x]})]}),Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",spacing:1,className:g.buttonsContainer,children:[!!e.additionalButton&&Object(j.jsx)(N.a,{item:!0,children:e.additionalButton}),Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)(vt,{color:"primary",variant:"outlined",onClick:_,children:"Change"})})]})]})})},_t=n(159),St=Object(w.a)((function(){return Object(I.a)({root:{fontFamily:"ApercuProRegular"}})})),Pt=function(e){var t=e.message,n=e.className,a=St(),r="".concat(a.root," ").concat(n);return Object(j.jsx)(_t.a,{color:"error",align:"center",className:r,children:t})},Nt=Object(w.a)((function(){return Object(I.a)({content:{padding:"2rem",flex:1,justifyContent:"space-between"},title:{marginBottom:"1rem",fontSize:"1.5rem",lineHeight:"normal",letterSpacing:"1px",width:"100%"},errorMessage:{marginBottom:"1rem"}})})),wt=function(e){var t=Nt(),n=e.content,a=e.title,r=e.errorMessage,c=e.mainButtonText,i=e.mainButtonVisible,s=e.mainButtonDisabled,o=e.mainButtonLoading,u=e.onMainButtonClick;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(N.a,{container:!0,className:t.content,justify:"flex-start",direction:"column",alignItems:"center",children:[Object(j.jsx)(_t.a,{className:t.title,component:"h2",align:"center",children:a}),n,Object(j.jsx)("span",{})]}),!!r&&Object(j.jsx)(Pt,{message:r,className:t.errorMessage}),i&&Object(j.jsx)(vt,{fullWidth:!0,variant:"contained",color:"primary",loading:o,disabled:s||o,onClick:u,children:c})]})},It=Object(w.a)((function(){return Object(I.a)({input:{borderRadius:0,alignItems:"start"},instant:{marginTop:"1rem","& .MuiFormControlLabel-label":{display:"flex",alignItems:"center"}},instantHint:{height:"1.25rem",marginLeft:"0.5rem"}})})),Lt=function(e){var t=e.sendAsset,n=e.receiveAsset,a=e.sendAmount,r=e.proceedToNext,c=It(),i=R(),s=i.apiEndpoint,o=i.bitcoinConstants,u=i.litecoinConstants,d=Oe(),p=Object(l.useState)(""),b=Object(T.a)(p,2),m=b[0],h=b[1],A=Object(l.useState)(!0),f=Object(T.a)(A,2),E=f[0],x=f[1],v=Object(l.useState)(!1),g=Object(T.a)(v,2),C=g[0],_=g[1],S=Object(l.useState)(""),w=Object(T.a)(S,2),I=w[0],L=w[1],y=Object(l.useState)(!1),D=Object(T.a)(y,2),k=D[0],B=D[1],M=Object(l.useState)(void 0),H=Object(T.a)(M,2),X=H[0],U=H[1],F=Object(l.useState)({}),G=Object(T.a)(F,2),Q=G[0],W=G[1],q=Object(l.useMemo)((function(){return n===O.c.BTC?o:u}),[o,u,n]),K=n===O.c.BTC||n===O.c.LTC,V="".concat(n," receiving address");Object(l.useEffect)((function(){K&&W(Object(he.a)(q))}),[q,K]);var z=function(){var e=Object(de.a)(le.a.mark((function e(){var c,i,o,u,l,p,b,T;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.formatPair([t,n]);case 2:if(c=e.sent,i=Object(Ae.a)(32),e.t0=P.a,e.t1=Object(P.a)({},c),e.t2={},e.t3=Q.publicKey,e.t4=Object(he.b)(te.crypto.sha256(i)),e.t5=new Z.a(a).multipliedBy(Math.pow(10,8)).toNumber(),void 0===X){e.next=16;break}return e.next=13,X.getAddress();case 13:e.t6=e.sent,e.next=17;break;case 16:e.t6=void 0;case 17:return e.t7=e.t6,e.t8={type:"reverseSubmarine",claimPublicKey:e.t3,preimageHash:e.t4,invoiceAmount:e.t5,claimAddress:e.t7},o=(0,e.t0)(e.t1,e.t2,e.t8),u={preImage:i,address:m,instantSwap:E,privateKey:Q.privateKey},l="Something went wrong. Please try again.",B(!0),e.prev=23,e.next=26,fetch(Object(ce.b)(s),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(o)});case 26:return p=e.sent,e.next=29,p.json();case 29:b=e.sent,B(!1),201===p.status?(L(""),r(b,u,X)):(T=b.error||l,L(T)),e.next=38;break;case 34:e.prev=34,e.t9=e.catch(23),L(l),B(!1);case 38:case"end":return e.stop()}}),e,null,[[23,34]])})));return function(){return e.apply(this,arguments)}}(),Y=!!m&&!je(m,q);return n===O.c.BTC||n===O.c.LTC?Object(j.jsx)(wt,{title:Object(j.jsxs)(j.Fragment,{children:["Paste a ",n," address you'd like to receive the funds on"]}),content:Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",children:[Object(j.jsx)(pe.a,{multiline:!0,fullWidth:!0,variant:"outlined","aria-label":"receive-address",rows:3,placeholder:V,value:m,onChange:function(e){h(e.target.value),L("")},InputProps:{className:c.input},error:Y,helperText:Y&&"Invalid address"}),Object(j.jsx)(be.a,{control:Object(j.jsx)(Te.a,{checked:E,onChange:function(){return x((function(e){return!e}))},name:"instantSwap",color:"primary"}),className:c.instant,label:Object(j.jsxs)(j.Fragment,{children:["Swap instantly",Object(j.jsx)(me.a,{title:"Enabling swap instantly means you agree to accept a 0-conf transaction from Boltz, which results in an instant swap.",children:Object(j.jsx)("img",{className:c.instantHint,src:qe.questionIcon,alt:"hint"})})]})})]}),errorMessage:I,mainButtonText:"Next",mainButtonVisible:!0,onMainButtonClick:z,mainButtonDisabled:!m||!je(m,q),mainButtonLoading:k}):Object(j.jsx)(wt,{title:Object(j.jsxs)(j.Fragment,{children:["Connect an Ethereum wallet with which you'd like to swap ",n]}),content:Object(j.jsx)(Ct,{setWrongChain:_,setError:L,setSigner:U}),errorMessage:I,mainButtonText:"Next",mainButtonVisible:!0,onMainButtonClick:z,mainButtonDisabled:void 0===X||C,mainButtonLoading:k})},yt=n(1297),Dt=n(276),kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,a=Math.floor(e/86400);e-=86400*a;var r=Math.floor(e/3600)%24;e-=3600*r;var c=Math.floor(n/60),i=Math.floor(e/60)%60,s=e-=60*i,o="";return a>0&&(o+="".concat(a,1===a?" day, ":" days, ")),o+=0===r?"":"".concat(r,1===r?" hour, ":" hours, "),o+="".concat(i," minutes"),{value:c,label:t?"".concat(i,":").concat(("0"+s).slice(-2)):o}};var Bt=function(){var e=Object(de.a)(le.a.mark((function e(t,n){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t.provider,e.t1=P.a,e.t2=Object(P.a)({},n),e.t3={},e.next=7,t.getAddress();case 7:return e.t4=e.sent,e.t5={from:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.next=12,e.t0.estimateGas.call(e.t0,e.t6);case 12:return a=e.sent,e.next=15,t.sendTransaction(Object(P.a)(Object(P.a)({},n),{},{gasLimit:a.add(a.div(5))}));case 15:return e.abrupt("return",e.sent);case 18:if(e.prev=18,e.t7=e.catch(0),!e.t7.data||!e.t7.data.message){e.next=24;break}throw e.t7.data.message;case 24:if(!e.t7.message){e.next=28;break}throw e.t7.message;case 28:throw e.t7;case 29:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),Mt=n(139),Ht=n(234),Xt=n.n(Ht),Ut=function(e){var t,n,a,r=Xt.a.decode(e),c=Object(Mt.a)(r.tags);try{for(c.s();!(a=c.n()).done;){var i=a.value;switch(i.tagName){case"payment_hash":t=i.data;break;case"routing_info":n=i.data}}}catch(s){c.e(s)}finally{c.f()}return Object(P.a)(Object(P.a)({},r),{},{paymentHash:t,routingInfo:n,satoshis:r.satoshis||0})},Ft=function(e){if(!e)return 0;var t=Xt.a.decode(e),n=t.timestamp||0;return t.timeExpireDate?n=t.timeExpireDate:n+=3600,n-Math.round((new Date).getTime()/1e3)},Gt=n(53),Zt=function(e,t){var n=Gt.a.from(t);if(8===e)return n;var a=Gt.a.from(10).pow(Gt.a.from(Math.abs(e-8)));return e>8?n.mul(a):n.div(a)},Qt=n(16),Wt=n(15),qt=n(290),Kt=n.n(qt),Vt=function(e){Object(Qt.a)(n,e);var t=Object(Wt.a)(n);function n(){var e;Object(L.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).id="",e.drawQrCode=function(){if(""!==e.id){var t=e.props,n=t.size,a=t.link,r=document.getElementById(e.id);e.qr=new Kt.a({element:r}),e.qr.set({size:n,level:"H",value:a,background:"white",foreground:"black",backgroundAlpha:1,foregroundAlpha:1})}},e}return Object(y.a)(n,[{key:"componentDidUpdate",value:function(){this.drawQrCode()}},{key:"componentDidMount",value:function(){this.drawQrCode()}},{key:"render",value:function(){var e=this.props.link;return e?(this.id="qr-".concat(e.substring(0,4)),Object(j.jsx)("canvas",{id:this.id})):Object(j.jsx)("div",{})}}]),n}(d.a.Component),zt=Object(w.a)((function(){return Object(I.a)({qrCodeContainer:{marginTop:"1rem"},input:{borderRadius:0},titleContainer:{display:"flex",alignItems:"center",justifyContent:"center"},titleIcon:{height:"1.5rem",marginLeft:"0.5rem"},buttonsContainer:{marginTop:"1rem"},link:{display:"flex",alignItems:"center"},linkIcon:{height:"1rem",marginLeft:"0.25rem"},expireContainer:{marginBottom:"1rem"}})})),Yt=function(e){var t=e.signer,n=e.swapStatus,a=e.swapDetails,r=e.claimDetails,c=e.sendAsset,i=e.receiveAsset,s=e.proceedToNextEthereum,o=zt(),u=v(),d=lt(st),p=Object(l.useState)(""),b=Object(T.a)(p,2),A=b[0],f=b[1],E=Object(l.useState)(!0),x=Object(T.a)(E,2),R=x[0],g=x[1],C=Object(l.useState)(void 0),_=Object(T.a)(C,2),S=_[0],P=_[1],w=Object(l.useState)(Ft(null===a||void 0===a?void 0:a.invoice)),I=Object(T.a)(w,2),L=I[0],y=I[1],D=Object(l.useMemo)((function(){var e=u.get(K(i));return e||u.get(K(O.c.ETH))}),[i,u]),k="".concat(D.address).concat(null===a||void 0===a?void 0:a.lockupAddress),B=Object(l.useMemo)((function(){if(i!==O.c.BTC&&i!==O.c.LTC&&n&&n.status===h.TransactionConfirmed){var e=function(){var e=Object(de.a)(le.a.mark((function e(){var n,c,o,u,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,i!==O.c.ETH){e.next=14;break}return c=new Dt.a(d.swapContracts.EtherSwap,m.ContractABIs.EtherSwap),e.t0=Bt,e.t1=t,e.next=8,c.populateTransaction.claim("0x".concat(Object(he.b)(r.preImage)),Zt(18,a.onchainAmount),a.refundAddress,a.timeoutBlockHeight);case 8:return e.t2=e.sent,e.next=11,(0,e.t0)(e.t1,e.t2);case 11:n=e.sent.hash,e.next=27;break;case 14:return o=new Dt.a(d.swapContracts.ERC20Swap,m.ContractABIs.ERC20Swap),u=new Dt.a(d.tokens[K(i)],m.ContractABIs.ERC20).connect(t),e.next=18,u.decimals();case 18:return l=e.sent,e.t3=Bt,e.t4=t,e.next=23,o.populateTransaction.claim("0x".concat(Object(he.b)(r.preImage)),Zt(l,a.onchainAmount),u.address,a.refundAddress,a.timeoutBlockHeight);case 23:return e.t5=e.sent,e.next=26,(0,e.t3)(e.t4,e.t5);case 26:n=e.sent.hash;case 27:s(n),e.next=33;break;case 30:e.prev=30,e.t6=e.catch(1),g(!1);case 33:case"end":return e.stop()}}),e,null,[[1,30]])})));return function(){return e.apply(this,arguments)}}();return P((function(){return e})),g(!1),"Claim"}return n&&n.status===h.TransactionMempool?"Waiting for one confirmation":"Waiting for transaction"}),[a,d,n,r,i,s,t]);Object(l.useEffect)((function(){if(f(function(e){return kt(e,!0)}(L).label),L){var e=setTimeout((function(){y(L-1)}),1e3);return function(){return clearTimeout(e)}}}),[L]);var M=L?"Expires in ".concat(A):"Expired!";return Object(j.jsx)(wt,{title:Object(j.jsxs)("span",{className:o.titleContainer,children:["Pay this ",c," invoice",Object(j.jsx)(me.a,{title:"A lightning invoice is how you receive payments on the lightning network. Please use a lightning wallet to pay the invoice.",children:Object(j.jsx)("img",{className:o.titleIcon,src:qe.questionIcon,alt:"hint"})})]}),content:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t.a,{variant:"body1",className:o.expireContainer,children:M}),Object(j.jsx)(pe.a,{fullWidth:!0,variant:"outlined",multiline:!0,disabled:!0,value:a.invoice,InputProps:{className:o.input}}),Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"space-between",className:o.buttonsContainer,children:[Object(j.jsxs)(yt.a,{href:k,target:"_blank",rel:"noopener noreferrer",className:o.link,children:["Check the lockup",Object(j.jsx)(me.a,{title:"Check the address to which Boltz will lockup coins after the invoice is paid.",children:Object(j.jsx)("img",{className:o.linkIcon,src:qe.questionIcon,alt:"hint"})})]}),Object(j.jsx)(vt,{variant:"contained",onClick:function(){var e;return null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText(a.invoice)},children:"Copy Invoice"})]}),Object(j.jsx)(N.a,{item:!0,container:!0,justify:"center",className:o.qrCodeContainer,children:Object(j.jsx)(Vt,{size:200,link:a.invoice})})]}),mainButtonVisible:!0,mainButtonDisabled:R,onMainButtonClick:S,mainButtonText:B})},Jt=Object(w.a)((function(){return Object(I.a)({imageContainer:{padding:"2rem"},refundButton:{margin:"2rem 0"}})})),$t=function(e){var t=Jt(),n=e.errorMessage,a=e.showRefundButton;return Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(j.jsx)(N.a,{item:!0,className:t.imageContainer,children:n?Object(j.jsx)("img",{src:qe.snap,alt:"aw, snap!"}):Object(j.jsx)("img",{src:qe.greenTick,alt:"success!"})}),Object(j.jsx)(_t.a,{align:"center",children:n||"Swap successfully completed!"}),a&&!!n&&Object(j.jsx)(vt,{variant:"outlined",size:"large",color:"primary",onClick:function(){throw new Error("TODO: Handle refund using new routing scheme")},className:t.refundButton,children:"Refund"})]})},en=function(e){var t=e.errorMessage,n=e.transactionId,a=e.receiveAsset,r=Object(b.g)(),c=v(),i=Object(l.useMemo)((function(){return c.get(K(function(e){switch(e){case O.c.BTC:case O.c.LTC:case O.c.ETH:return e;case O.c.ETH_USDT:return O.c.ETH;default:throw new Error("unable to map ".concat(e," to chain"))}}(a)))}),[a,c]),s="".concat(i.transaction).concat(n);return Object(j.jsx)(wt,{title:"",content:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($t,{errorMessage:t}),!t&&Object(j.jsx)(yt.a,{href:s,target:"_blank",rel:"noopener noreferrer",children:"See on block explorer"})]}),mainButtonVisible:!t,mainButtonText:"Swap again",onMainButtonClick:function(){r.replace(Nc.HOME)}})},tn=function(e){var t=e.receiveAsset,n=Object(l.useState)(0),a=Object(T.a)(n,2),r=a[0],c=a[1],i=Object(l.useState)(""),s=Object(T.a)(i,2),o=s[0],u=s[1],d=Object(l.useState)(void 0),p=Object(T.a)(d,2),b=p[0],m=p[1],A=Object(l.useState)(void 0),f=Object(T.a)(A,2),E=f[0],x=f[1],v=Object(l.useState)(void 0),g=Object(T.a)(v,2),C=g[0],_=g[1],S=Object(l.useState)(void 0),N=Object(T.a)(S,2),w=N[0],I=N[1],L=Object(l.useState)(""),y=Object(T.a)(L,2),D=y[0],k=y[1],B=R(),M=B.apiEndpoint,X=B.bitcoinConstants,U=B.litecoinConstants,F=Object(l.useMemo)((function(){return"BTC"===K(t)?X:U}),[X,U,t]),G=Object(l.useCallback)((function(){return c((function(e){return e+1}))}),[c]),Z=Object(l.useMemo)((function(){return function(e,n,a){!function(e){var t=ne();t.push(e),ae(t)}(Object(P.a)(Object(P.a)({},n),{},{swapId:e.id,redeemScript:e.redeemScript})),m(e),_(n),I(a),G(),ie(e.id,M,(function(a,r){x(a),t===O.c.BTC||t===O.c.LTC?n.instantSwap&&h.TransactionMempool===a.status||h.TransactionConfirmed===a.status?function(e,t,n,a,r,c,i){return Object($.e)(c).pipe(Object(H.a)((function(c){return Object(q.a)(re(K(a),e,t,n,r,c))})),Object(ee.a)(i),Object(H.a)((function(e){return Object($.b)(a,e.toHex(),c)})))}(n,a,e,t,F,M,(function(e){return u(e.getId())})).subscribe({next:function(){},error:function(e){console.error(e),r.close(),k("Failed to claim the funds."),G()},complete:function(){r.close(),G(),Object($.g)(e.id)}}):h.TransactionClaimed&&(r.close(),Object($.g)(e.id)):a.failureReason&&r.close()}))}}),[G,M,F,t]),Q=Object(l.useMemo)((function(){return function(e){u(e),G()}}),[G]);return[Object(j.jsx)(Lt,Object(P.a)(Object(P.a)({},e),{},{proceedToNext:Z})),Object(j.jsx)(Yt,Object(P.a)(Object(P.a)({},e),{},{swapDetails:b,claimDetails:C,swapStatus:E,signer:w,proceedToNextEthereum:Q})),Object(j.jsx)(en,{receiveAsset:e.receiveAsset,errorMessage:D||(null===E||void 0===E?void 0:E.failureReason),transactionId:o})][r]},nn=n(1328),an=n(1298),rn=n(1322),cn=n(1329),sn=n(1299),on=function(e){var t=e.swapStatus,n=e.swapId,a=e.showRefundButton;return Object(j.jsx)($t,{errorMessage:se(t),swapId:n,showRefundButton:a})},un=Object(w.a)((function(){return Object(I.a)({progressBar:{height:"2px"},imageContainer:{padding:"2rem"},refundButton:{margin:"2rem 0"}})})),ln=function(e){var t=un(),n=e.swapId,a=e.swapStatus,r=e.showRefundButton,c=e.onActiveStepChange,i=Object(l.useState)(0),s=Object(T.a)(i,2),o=s[0],u=s[1];return Object(l.useEffect)((function(){var e=J.map((function(e){return e.status})).findIndex((function(e){return e.includes(a.status)}));if(-1!==e){var t=e+1;u(t),c&&c(t)}}),[a,u,c]),Object(j.jsx)(j.Fragment,{children:se(a)||a.status===h.TransactionClaimed?Object(j.jsx)(on,{swapStatus:a,swapId:n,showRefundButton:r}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(nn.a,{activeStep:o,orientation:"vertical",children:J.map((function(e,n){return Object(j.jsxs)(an.a,{children:[Object(j.jsx)(rn.a,{children:o>n?e.textComplete:e.initialText}),Object(j.jsx)(cn.a,{children:Object(j.jsx)(sn.a,{className:t.progressBar})})]},e.status[0])}))})})})},dn=function(e){var t=e.swapStatus,n=e.swapId,a=Object(l.useState)(void 0),r=Object(T.a)(a,2),c=r[0],i=r[1],s=Object(b.g)(),o=!se(t)&&!!c&&c<J.length;return Object(j.jsx)(wt,{title:"Swap status",content:Object(j.jsx)(ln,{swapStatus:t,swapId:n,showRefundButton:!0,onActiveStepChange:i}),mainButtonDisabled:o,mainButtonText:o?"Swap in progress":"Start a new swap",onMainButtonClick:function(){s.replace(Nc.HOME)}})},pn=n(1302),bn=function(e){try{return Xt.a.decode(e),!0}catch(t){return!1}},Tn=function(e){var t=Object(l.useMemo)((function(){return d.a.createRef()}),[]),n=e.details,a=n.swapId,r=n.currency,c=n.privateKey,i=n.redeemScript,s=n.timeoutBlockHeight;Object(l.useEffect)((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.click()}),[t]);var o,u=function(){document.createElement("img").src="data:image/png;base64,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";var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("2d").getImageData(0,0,e.width,e.height);return 255===t.data[0]&&255===t.data[1]&&255===t.data[2]&&255===t.data[3]}(),p=JSON.stringify({swapId:a,currency:r,privateKey:c,redeemScript:i,timeoutBlockHeight:s});u?p="data:application/json;charset=utf-8,"+p:(o=p,p=new Kt.a({size:500,level:"L",value:o,background:"white",foreground:"black",backgroundAlpha:1,foregroundAlpha:1}).toDataURL());var b="refund-".concat(a);return Object(j.jsx)("a",{target:"_blank",rel:"noopener noreferrer",ref:t,href:p,download:"".concat(b,u?".json":".png")})},mn=n(573),On=n.n(mn),jn=n(1324),hn=n(1300),An=n(77),fn=n(1241);var En=function(e){var t=e.onClose,n=e.open,a=e.title,r=Object(An.a)(),c=Object(fn.a)(r.breakpoints.down("sm")),i=function(){t()};return Object(j.jsxs)(jn.a,{fullScreen:c,onClose:i,"aria-labelledby":"simple-dialog-title",open:n,children:[Object(j.jsxs)(hn.a,{id:"simple-dialog-title",children:[a,Object(j.jsx)(ht.a,{"aria-controls":"menu-list-grow","aria-haspopup":"true",className:"drawer-close-btn",onClick:i,children:Object(j.jsx)("img",{src:qe.close,alt:""})})]}),e.children]})};function xn(e){var t,n,a=e.onClose,r=e.open,c=e.setOpen;r&&((null===(t=navigator)||void 0===t||null===(n=t.mediaDevices)||void 0===n?void 0:n.getUserMedia)?navigator.mediaDevices.getUserMedia({video:!0}).then((function(){})).catch((function(e){return alert("The following error occurred when trying to access the camera: "+e)})):alert("Sorry, browser does not support camera access"));var i=function(){c(!1)};return Object(j.jsx)(En,{open:r,onClose:i,title:"Scan QR Code",children:Object(j.jsx)(On.a,{delay:300,onError:console.error,onScan:function(e){e&&e.trim()&&(a(e),i())},style:{width:"100%"}})})}var vn,Rn,gn,Cn=n(29),_n=n(1320),Sn=n(1301),Pn=Object(w.a)((function(){return Object(I.a)({input:{borderRadius:0},selectInput:{borderRadius:0,paddingTop:"0.5rem",paddingBottom:"0.5rem"},amountRow:{marginTop:"0.5rem"},amountContainer:{display:"flex",justifyContent:"flex-end"},unitContainer:{display:"flex",justifyContent:"flex-start"}})})),Nn=function(e){var t=e.amountInMainUnit,n=e.currency,a=e.onDisplayedAmountChange,r=Pn(),c=ut(),i=lt(it),s=O.d[K(n)],o=function(){return i[K(n)]||s[0]},u="2"===o().value?t:new Z.a(t).multipliedBy(Math.pow(10,8)).toString();return Object(l.useEffect)((function(){a&&a(u)}),[u,a]),Object(j.jsx)(N.a,{item:!0,container:!0,spacing:1,alignItems:"center",justify:"center",className:r.amountRow,children:s.length>1?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N.a,{item:!0,xs:6,className:r.amountContainer,children:u}),Object(j.jsx)(N.a,{item:!0,xs:6,className:r.unitContainer,children:Object(j.jsx)(_n.a,{variant:"outlined",className:r.input,inputProps:{className:r.selectInput},value:o().id,onChange:function(e){var t=s.find((function(t){return t.id===e.target.value}));c(rt(Object(Cn.a)({},K(n),t)))},children:s.map((function(e){return Object(j.jsx)(Sn.a,{value:e.id,children:e.id},e.value)}))})})]}):Object(j.jsxs)(j.Fragment,{children:[u," ",o().id]})})},wn=Object(w.a)((function(){return Object(I.a)({input:{borderRadius:0,alignItems:"start"},scanButton:{marginBottom:"1rem"},hintIcon:{height:"1.5rem"},endAdornment:{display:"block"},downloadRefund:{marginTop:"1rem","& .MuiFormControlLabel-label":{display:"flex",alignItems:"center"}},downloadRefundHint:{height:"1.25rem",marginLeft:"0.5rem"}})})),In=function(e){var t=e.proceedToNext,n=e.receiveAmount,a=e.sendAsset,r=e.receiveAsset,c=wn(),i=lt(it),s=Object(l.useState)(""),o=Object(T.a)(s,2),u=o[0],d=o[1],p=Object(l.useState)(""),b=Object(T.a)(p,2),m=b[0],h=b[1],A=Object(l.useState)(!0),f=Object(T.a)(A,2),E=f[0],x=f[1],v=Object(l.useState)(!1),g=Object(T.a)(v,2),C=g[0],S=g[1],w=Object(l.useState)(!1),I=Object(T.a)(w,2),L=I[0],y=I[1],D=Oe(),k=R(),B=k.apiEndpoint,M=k.bitcoinConstants,H=k.litecoinConstants,X=Object(l.useState)({}),U=Object(T.a)(X,2),F=U[0],G=U[1],Z=Object(l.useState)(void 0),Q=Object(T.a)(Z,2),W=Q[0],q=Q[1],V=Object(l.useState)(""),z=Object(T.a)(V,2),Y=z[0],J=z[1],ee=Object(l.useContext)(_),te=!!(null===ee||void 0===ee?void 0:ee.isMobileView),ne="Invoice for ".concat(Y," ").concat(i[K(r)].id),ae=function(e){return!e||bn(e)},re=!!u&&bn(u);Object(l.useEffect)((function(){var e="BTC"===K(r)?M:H;G(Object(he.a)(e))}),[a,r,M,H]);var ie=function(){var e=Object(de.a)(le.a.mark((function e(){var n,c,i,s,o,l,d;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.formatPair([a,r]);case 2:return n=e.sent,c=Object(P.a)(Object(P.a)({},n),{},{type:"submarine",invoice:u,refundPublicKey:F.publicKey,channel:{auto:!0,private:!1,inboundLiquidity:25}}),i="Something went wrong. Please try again.",S(!0),e.prev=6,e.next=9,fetch(Object(ce.b)(B),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(c)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(o=e.sent,201!==s.status){e.next=22;break}return h(""),l={swapId:o.id,currency:a,timeoutBlockHeight:o.timeoutBlockHeight,redeemScript:o.redeemScript,privateKey:F.privateKey,date:new Date},q(l),Object($.a)(l),t(Ut(u).paymentHash,o),e.abrupt("return");case 22:d=o.error||i,h(d),S(!1);case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(6),h(i),S(!1);case 31:case"end":return e.stop()}}),e,null,[[6,27]])})));return function(){return e.apply(this,arguments)}}(),se=![O.c.ETH,O.c.ETH_USDT].includes(a);return Object(j.jsx)(wt,{title:Object(j.jsxs)(j.Fragment,{children:["Paste invoice to receive",Object(j.jsx)("br",{}),Object(j.jsx)(Nn,{amountInMainUnit:n,currency:r,onDisplayedAmountChange:J})]}),content:Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",children:[te&&Object(j.jsx)(vt,{onClick:function(){return y(!0)},startIcon:Object(j.jsx)("img",{src:qe.camera,alt:"scan"}),className:c.scanButton,children:"Scan invoice"}),Object(j.jsx)(pe.a,{multiline:!0,fullWidth:!0,variant:"outlined","aria-label":ne,rows:6,placeholder:ne,value:u,onChange:function(e){d(e.target.value),h("")},error:!ae(u),helperText:!ae(u)&&"Invalid invoice",InputProps:{className:c.input,endAdornment:Object(j.jsx)(pn.a,{position:"end",className:c.endAdornment,children:Object(j.jsx)(me.a,{title:"A lightning invoice is how you receive payments on the lightning network. Please use a Lightning wallet to create an invoice.",children:Object(j.jsx)("img",{className:c.hintIcon,src:qe.questionIcon,alt:"hint"})})})}}),se&&Object(j.jsx)(be.a,{control:Object(j.jsx)(Te.a,{checked:E,onChange:function(){return x((function(e){return!e}))},name:"downloadRefundFile",color:"primary"}),className:c.downloadRefund,label:Object(j.jsxs)(j.Fragment,{children:["Download refund file",Object(j.jsx)(me.a,{title:"The refund details are stored in your browser. You can also save the file on your device.",children:Object(j.jsx)("img",{className:c.downloadRefundHint,src:qe.questionIcon,alt:"hint"})})]})}),se&&E&&!!W&&Object(j.jsx)(Tn,{details:W}),Object(j.jsx)(xn,{onClose:function(e){return d(e.toLowerCase())},open:L,setOpen:y})]}),errorMessage:m,mainButtonText:"Next",mainButtonVisible:!0,onMainButtonClick:ie,mainButtonDisabled:!re,mainButtonLoading:C})},Ln=n(1303),yn=function(e){var t=e.title,n=e.proceedToNext,a=e.swapStatus,r=e.sendCurrency,c=lt(st),i=Object(l.useState)(!1),s=Object(T.a)(i,2),o=s[0],u=s[1],d=Object(l.useState)(!1),p=Object(T.a)(d,2),b=p[0],A=p[1],f=Object(l.useState)(void 0),E=Object(T.a)(f,2),x=E[0],v=E[1],R=Object(l.useState)(""),g=Object(T.a)(R,2),C=g[0],_=g[1],S=Object(l.useState)(!1),P=Object(T.a)(S,2),N=P[0],w=P[1],I=Object(l.useState)(void 0),L=Object(T.a)(I,2),y=L[0],D=L[1],k=Object(l.useState)(!1),B=Object(T.a)(k,2),M=B[0],X=B[1],U=Object(l.useState)(!1),F=Object(T.a)(U,2),G=F[0],Z=F[1],Q=Object(l.useState)(18),q=Object(T.a)(Q,2),V=q[0],z=q[1];return Object(l.useEffect)((function(){if(r!==O.c.ETH&&void 0!==c&&void 0!==x){var t=new Dt.a(c.tokens[K(r)],m.ContractABIs.ERC20).connect(x);D(t);var n=Object(W.a)(x.getAddress()),a=c.swapContracts.ERC20Swap,i=n.pipe(Object(H.a)((function(e){return Object(Ln.a)([Object(W.a)(t.decimals()),Object(W.a)(t.allowance(e,a)),Object(W.a)(t.balanceOf(e))])}))).subscribe({next:function(t){var n=Object(T.a)(t,3),a=n[0],c=n[1],i=n[2];z(a);var s=Zt(a,e.swapDetails.expectedAmount);i.lt(s)&&(w(!0),_("Not enough ".concat(r," tokens in Ethereum wallet"))),c.lte(s)&&X(!0)},error:function(e){}});return function(){return null===i||void 0===i?void 0:i.unsubscribe()}}}),[r,c,x,e]),Object(l.useEffect)((function(){a&&a.status===h.TransactionConfirmed&&n()}),[a,n]),Object(j.jsx)(wt,{title:t,content:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Ct,{setWrongChain:A,setError:_,setSigner:v,additionalButton:x&&r!==O.c.ETH?Object(j.jsx)(vt,{variant:"contained",color:"primary",disabled:!M||!!C||G,loading:G,onClick:function(){Z(!0),y.approve(c.swapContracts.ERC20Swap,Je.a.MaxUint256).then((function(){Z(!1),X(!1)})).catch((function(){return Z(!1)}))},children:"Approve"}):void 0})}),errorMessage:C,mainButtonVisible:!0,mainButtonText:"Send",mainButtonDisabled:M||N||!x||b,mainButtonLoading:o,onMainButtonClick:Object(de.a)(le.a.mark((function t(){var n,a;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(""),u(!0),t.prev=2,r!==O.c.ETH){t.next=14;break}return n=new Dt.a(c.swapContracts.EtherSwap,m.ContractABIs.EtherSwap).connect(x),t.t0=Bt,t.t1=x,t.next=9,n.populateTransaction.lock("0x".concat(e.preimageHash),e.swapDetails.claimAddress,e.swapDetails.timeoutBlockHeight,{value:Zt(V,e.swapDetails.expectedAmount)});case 9:return t.t2=t.sent,t.next=12,(0,t.t0)(t.t1,t.t2);case 12:t.next=22;break;case 14:return a=new Dt.a(c.swapContracts.ERC20Swap,m.ContractABIs.ERC20Swap).connect(x),t.t3=Bt,t.t4=x,t.next=19,a.populateTransaction.lock("0x".concat(e.preimageHash),Zt(V,e.swapDetails.expectedAmount),y.address,e.swapDetails.claimAddress,e.swapDetails.timeoutBlockHeight);case 19:return t.t5=t.sent,t.next=22,(0,t.t3)(t.t4,t.t5);case 22:t.next=28;break;case 24:t.prev=24,t.t6=t.catch(2),u(!1),"string"===typeof t.t6?_(t.t6):_("Could not send Ethereum transaction");case 28:case"end":return t.stop()}}),t,null,[[2,24]])})))})},Dn=Object(w.a)((function(){return Object(I.a)({qrCodeContainer:{marginTop:"1rem"},input:{borderRadius:0}})})),kn=function(e){var t=Dn(),n=e.swapDetails,a=e.swapStatus,r=e.sendAsset,c=e.proceedToNext,i=!a||a.status===h.InvoiceSet;Object(l.useEffect)((function(){a&&se(a)&&c()}),[a,c]);var s=Object(j.jsxs)(j.Fragment,{children:["Send",Object(j.jsx)("br",{}),Object(j.jsx)(Nn,{amountInMainUnit:new Z.a(n.expectedAmount).dividedBy(Math.pow(10,8)).toString(),currency:r})]});return r===O.c.BTC||r===O.c.LTC?Object(j.jsx)(wt,{title:s,content:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(pe.a,{fullWidth:!0,variant:"outlined",multiline:!0,disabled:!0,value:n.address,InputProps:{className:t.input,endAdornment:Object(j.jsx)(pn.a,{position:"end",children:Object(j.jsx)(vt,{onClick:function(){var e;return null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText(n.address)},children:"Copy"})})}}),Object(j.jsx)(N.a,{item:!0,container:!0,justify:"center",className:t.qrCodeContainer,children:Object(j.jsx)(Vt,{size:150,link:n.bip21})})]}),mainButtonVisible:!0,mainButtonText:i?"Waiting for transaction":"Next",mainButtonDisabled:i,onMainButtonClick:c}):Object(j.jsx)(yn,{sendCurrency:r,title:s,swapDetails:n,preimageHash:e.preimageHash,proceedToNext:c,swapStatus:a})},Bn=function(e){var t=Object(l.useState)(),n=Object(T.a)(t,2),a=n[0],r=n[1],c=Object(l.useState)(0),i=Object(T.a)(c,2),s=i[0],o=i[1],u=Object(l.useState)(void 0),d=Object(T.a)(u,2),p=d[0],b=d[1],m=Object(l.useState)(void 0),O=Object(T.a)(m,2),A=O[0],f=O[1],E=R().apiEndpoint,x=Object(l.useCallback)((function(){return o((function(e){return e+1}))}),[o]),v=Object(l.useMemo)((function(){return function(e,t){r(e),b(t),x(),ie(t.id,E,(function(e,n){f(e),oe(e)&&(n.close(),h.TransactionClaimed===e.status&&Object($.g)(t.id))}))}}),[x,E]);return[Object(j.jsx)(In,Object(P.a)(Object(P.a)({},e),{},{proceedToNext:v})),Object(j.jsx)(kn,{sendAsset:e.sendAsset,swapDetails:p,swapStatus:A,preimageHash:a,proceedToNext:x}),Object(j.jsx)(dn,{swapStatus:A,swapId:null===p||void 0===p?void 0:p.id})][s]},Mn=Object(w.a)((function(){return Object(I.a)({root:{display:"flex","flex-direction":"column","justify-content":"space-between",flex:1,minHeight:440}})})),Hn=function(e){var t=Mn(),n=e.sendAsset,a=e.receiveAsset;return Object(j.jsx)("div",{className:t.root,children:(V(n)&&!V(a)?Object(j.jsx)(Bn,Object(P.a)({},e)):!V(n)&&V(a)?Object(j.jsx)(tn,Object(P.a)({},e)):void 0)||Object(j.jsx)("div",{children:"Not implemented"})})},Xn=n(1304),Un=n(1305),Fn=Object(w.a)({root:{borderRadius:"0.1rem"},content:{padding:0,height:"100%","&:last-child":{"padding-bottom":0}},card:{flex:1,margin:"2rem 0"}}),Gn=function(e){var t=e.children,n=Fn();return Object(j.jsx)(N.a,{container:!0,direction:"column",alignItems:"center",className:n.card,children:Object(j.jsx)(N.a,{item:!0,container:!0,justify:"center",children:Object(j.jsx)(N.a,{item:!0,xs:11,sm:9,md:6,lg:4,xl:3,children:Object(j.jsx)(Xn.a,{className:n.root,children:Object(j.jsx)(Un.a,{className:n.content,children:t})})})})})};!function(e){e.BOLTZ="boltz",e.COMIT="comit",e.TDEX="tdex"}(Rn||(Rn={})),function(e){e[e.SINGLE=0]="SINGLE",e[e.BOTH=1]="BOTH"}(gn||(gn={}));var Zn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn.BOTH;Object(L.a)(this,e),this.pair=t,this.direction=n},Qn=(vn={},Object(Cn.a)(vn,Rn.BOLTZ,[new Zn([O.a.BTC,O.a.LIGHTNING_BTC]),new Zn([O.a.BTC,O.a.LIGHTNING_LTC]),new Zn([O.a.ETH,O.a.LIGHTNING_BTC]),new Zn([O.a.ETH_USDT,O.a.LIGHTNING_BTC]),new Zn([O.a.LTC,O.a.LIGHTNING_BTC]),new Zn([O.a.LTC,O.a.LIGHTNING_LTC])]),Object(Cn.a)(vn,Rn.COMIT,[new Zn([O.a.BTC,O.a.MONERO],gn.SINGLE)]),Object(Cn.a)(vn,Rn.TDEX,[new Zn([O.a.LIQUID_BTC,O.a.LIQUID_USDT]),new Zn([O.a.LIQUID_BTC,O.a.LIQUID_CAD])]),vn),Wn=n(236),qn=n.n(Wn),Kn=n(66),Vn=n.n(Kn),zn=function(){function e(t){Object(L.a)(this,e),this.satoshis=void 0,this.satoshis=new Vn.a(t)}return Object(y.a)(e,[{key:"asSat",value:function(){return this.satoshis}},{key:"asBtc",value:function(){return this.satoshis.div(e.satsInOneBtc)}},{key:"toPrecision",value:function(){return this.satoshis.toDecimalPlaces(0)}},{key:"toBtcString",value:function(){return this.asBtc().toDecimalPlaces(e.decimals).toString()}}],[{key:"fromSat",value:function(t){return new e(t)}},{key:"fromBtc",value:function(t){return new e(new Vn.a(t).mul(e.satsInOneBtc))}},{key:"fromBtcRateAndAmount",value:function(t,n){var a=new Vn.a(10).pow(new Vn.a(4));return new e(n.asPic().div(a).mul(t.asSat()).div(this.satsInOneBtc))}}]),e}();zn.decimals=8,zn.satsInOneBtc=new Vn.a(10).pow(new Vn.a(zn.decimals));var Yn={maxAccepted:zn.fromBtc(0),minAccepted:zn.fromBtc(0),multiaddr:"",peerId:"",spread:new Vn.a(0)},Jn={maxAccepted:zn.fromBtc(.02),minAccepted:zn.fromBtc(.002),multiaddr:"/onion3/pzbmpqsyi2j2za2fwmiognupwozjlcoajbd3cgboetql7ooah63zywqd:9939",peerId:"12D3KooWCdMKjesXMJz1SiZ7HgotrxuqhQJbP5sgBm2BwP1cqThi",spread:new Vn.a(.02)};function $n(e,t){var n=new Vn.a(1).add(function(e){return e===a.Mainnet?Yn.spread:Jn.spread}(t)).mul(e.asBtc()),r=zn.fromBtc(n.toString());return{max_quantity:aa(t),min_quantity:na(t),price:r,timestamp:new Date}}function ea(e){return e===a.Mainnet?Yn.peerId:Jn.peerId}function ta(e){return e===a.Mainnet?Yn.multiaddr:Jn.multiaddr}function na(e){return e===a.Mainnet?Yn.minAccepted:Jn.minAccepted}function aa(e){return e===a.Mainnet?Yn.maxAccepted:Jn.maxAccepted}var ra=function(){function e(t){Object(L.a)(this,e),this.piconeros=t,this.piconeros=new Vn.a(t)}return Object(y.a)(e,[{key:"asPic",value:function(){return this.piconeros}},{key:"asXmr",value:function(){return this.piconeros.div(e.picsInOneXmr)}},{key:"toPrecision",value:function(){return this.piconeros.toDecimalPlaces(0)}},{key:"toXmrString",value:function(){return this.asXmr().toDecimalPlaces(e.decimals).toString()}}],[{key:"fromXmr",value:function(t){return new e(new Vn.a(t).mul(e.picsInOneXmr))}},{key:"fromPic",value:function(t){return new e(new Vn.a(t))}},{key:"fromBtcRateAndAmount",value:function(t,n){return new e(new Vn.a(n.asSat()).div(t.asSat()).mul(e.picsInOneXmr))}}]),e}();ra.decimals=12,ra.picsInOneXmr=new Vn.a(10).pow(new Vn.a(ra.decimals));var ca=function(){function e(t,n){Object(L.a)(this,e),this.latestQuote=t,this.error=n}return Object(y.a)(e,[{key:"previewGivenSend",value:function(e,t){this.ensureNoRefreshErrors();var n=ia(zn.fromBtc(e.amount.toString()),this.getQuote().price),a=new Z.a(n.asXmr().toString());return Promise.resolve({amountWithFees:{amount:a,currency:O.c.MONERO}})}},{key:"previewGivenReceive",value:function(e,t){this.ensureNoRefreshErrors();var n=ra.fromXmr(e.amount.toString()),a=zn.fromBtcRateAndAmount(this.getQuote().price,n),r=new Z.a(a.asBtc().toString());return Promise.resolve({amountWithFees:{amount:r,currency:O.c.BTC}})}},{key:"isPairSupported",value:function(e){return e[0]===O.c.BTC&&e[1]===O.c.MONERO}},{key:"maxQuantity",value:function(){return this.getQuote().max_quantity}},{key:"updateError",value:function(e){this.error=e,this.latestQuote=null}},{key:"updateQuote",value:function(e){this.latestQuote=e,this.error=null}},{key:"ensureNoRefreshErrors",value:function(){if(this.error)throw this.error}},{key:"getQuote",value:function(){if(!this.latestQuote)throw new Error("Quote not available");return this.latestQuote}}]),e}();function ia(e,t){return ra.fromBtcRateAndAmount(t,e)}var sa,oa,ua,la,da;function pa(){var e=Object(l.useState)({quote:null,error:null}),t=Object(T.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(null),c=Object(T.a)(r,2),i=c[0],s=c[1],o=Object(l.useState)({price:null,error:null}),u=Object(T.a)(o,2),d=u[0],p=u[1],b=x().network,m=qn()("wss://ws.kraken.com"),O=m.sendMessage,j=m.lastJsonMessage,h=m.readyState;i||s(new ca(null,null));var A=Object(l.useCallback)((function(){return O('{"event": "subscribe", "pair": [ "XMR/XBT" ], "subscription": { "name": "ticker"}}')}),[O]);return Object(l.useEffect)((function(){if(h===Wn.ReadyState.OPEN&&j){if(j.connectionID&&A(),Array.isArray(j)&&"ticker"===j[2]&&j[1].a&&Array.isArray(j[1].a)){var e=j[1].a[0],t=zn.fromBtc(e);p({price:t,error:null})}}else if(h===Wn.ReadyState.CONNECTING){var n=new Error("Waiting for latest price...");p({price:null,error:n})}else if(h===Wn.ReadyState.CLOSED){var a=new Error("Failed to fetch latest price");p({price:null,error:a})}}),[h,j,A]),Object(l.useEffect)((function(){if(d.price){var e=$n(d.price,b);a({quote:e,error:null}),i&&i.updateQuote(e)}else d.error&&(a({quote:null,error:d.error}),i&&i.updateError(d.error))}),[d,b,i]),{rateFetcher:i,latestQuote:n.quote?n.quote:null,error:n.error?n.error:null}}var ba={liquid:"https://blockstream.info/liquid/api",regtest:"http://localhost:3001"},Ta={liquid:"https://blockstream.info/liquid",regtest:"http://localhost:5001"},ma="5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225",Oa="6f0279e9ed041c3d710a9f57d0c02928416460c4b722ae3457a11eec381c526d",ja="ce091c998b83c78bb71a632313ba3760f1763d9cfcffae02258ffa9865a37bd2",ha="0e99c1a6da379d1f4151fb9df90449d40d0608f6cb33a5bcbfc8c265f42bab0a",Aa="".concat(O.c.LIQUID_BTC,"#").concat(O.c.LIQUID_USDT),fa="".concat(O.c.LIQUID_USDT,"#").concat(O.c.LIQUID_BTC),Ea="".concat(O.c.LIQUID_BTC,"#").concat(O.c.LIQUID_CAD),xa="".concat(O.c.LIQUID_CAD,"#").concat(O.c.LIQUID_BTC),va=(sa={},Object(Cn.a)(sa,Aa,[O.c.LIQUID_BTC,O.c.LIQUID_USDT]),Object(Cn.a)(sa,fa,[O.c.LIQUID_BTC,O.c.LIQUID_USDT]),Object(Cn.a)(sa,Ea,[O.c.LIQUID_BTC,O.c.LIQUID_CAD]),Object(Cn.a)(sa,xa,[O.c.LIQUID_BTC,O.c.LIQUID_CAD]),sa),Ra=(oa={},Object(Cn.a)(oa,O.c.LIQUID_BTC,{hash:Oa,precision:8}),Object(Cn.a)(oa,O.c.LIQUID_USDT,{hash:ja,precision:8}),Object(Cn.a)(oa,O.c.LIQUID_CAD,{hash:ha,precision:8}),oa),ga=(ua={},Object(Cn.a)(ua,O.c.LIQUID_BTC,{hash:ma,precision:8}),Object(Cn.a)(ua,O.c.LIQUID_USDT,{hash:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"}).REACT_APP_LIQUID_USDT_REGTEST,precision:8}),Object(Cn.a)(ua,O.c.LIQUID_CAD,{hash:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"}).REACT_APP_LIQUID_CAD_REGTEST,precision:8}),ua),Ca=(la={},Object(Cn.a)(la,Oa,O.c.LIQUID_BTC),Object(Cn.a)(la,ja,O.c.LIQUID_USDT),Object(Cn.a)(la,ha,O.c.LIQUID_CAD),la),_a=(da={},Object(Cn.a)(da,ma,O.c.LIQUID_BTC),Object(Cn.a)(da,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"}).REACT_APP_LIQUID_USDT_REGTEST,O.c.LIQUID_USDT),Object(Cn.a)(da,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BOLTZ_MAINNET_API:"https://boltz.exchange/api",REACT_APP_BOLTZ_MAINNET_INFURA_ID:"someIdMainnet",REACT_APP_BOLTZ_REGTEST_API:"http://127.0.0.1:9001",REACT_APP_BOLTZ_REGTEST_INFURA_ID:"someIdRegtest",REACT_APP_BOLTZ_TESTNET_API:"https://testnet.boltz.exchange/api",REACT_APP_BOLTZ_TESTNET_INFURA_ID:"someIdTestnet",REACT_APP_MAINNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/address/",REACT_APP_MAINNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/tx/",REACT_APP_MAINNET_EXPLORER_ETH_ADDRESS:"https://etherscan.io/address/",REACT_APP_MAINNET_EXPLORER_ETH_TRANSACTION:"https://etherscan.io/tx/",REACT_APP_MAINNET_EXPLORER_LTC_ADDRESS:"https://blockchair.com/litecoin/address/",REACT_APP_MAINNET_EXPLORER_LTC_TRANSACTION:"https://blockchair.com/litecoin/transaction/",REACT_APP_REGTEST_EXPLORER_BTC_ADDRESS:"https://127.0.0.1/btc/address/",REACT_APP_REGTEST_EXPLORER_BTC_TRANSACTION:"https://127.0.0.1/btc/tx/",REACT_APP_REGTEST_EXPLORER_ETH_ADDRESS:"https://127.0.0.1/eth/address/",REACT_APP_REGTEST_EXPLORER_ETH_TRANSACTION:"https://127.0.0.1/eth/tx/",REACT_APP_REGTEST_EXPLORER_LTC_ADDRESS:"https://127.0.0.1/ltc/address/",REACT_APP_REGTEST_EXPLORER_LTC_TRANSACTION:"https://127.0.0.1/ltc/tx/",REACT_APP_TESTNET_EXPLORER_BTC_ADDRESS:"https://blockstream.info/testnet/address/",REACT_APP_TESTNET_EXPLORER_BTC_TRANSACTION:"https://blockstream.info/testnet/tx/",REACT_APP_TESTNET_EXPLORER_ETH_ADDRESS:"https://rinkeby.etherscan.io/address/",REACT_APP_TESTNET_EXPLORER_ETH_TRANSACTION:"https://rinkeby.etherscan.io/tx/",REACT_APP_TESTNET_EXPLORER_LTC_ADDRESS:"https://sochain.com/address/LTCTEST/",REACT_APP_TESTNET_EXPLORER_LTC_TRANSACTION:"https://sochain.com/tx/LTCTEST/"}).REACT_APP_LIQUID_CAD_REGTEST,O.c.LIQUID_CAD),da),Sa={liquid:Ra,regtest:ga},Pa={liquid:Ca,regtest:_a},Na=n(157);function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return new Z.a(e).multipliedBy(new Z.a(10).exponentiatedBy(t)).toNumber()}function Ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return new Z.a(e).dividedBy(new Z.a(10).exponentiatedBy(t)).toNumber()}function La(e){var t=ya(e);return va[t]}function ya(e){var t=Object(T.a)(e,2),n=t[0],a=t[1];return"".concat(n,"#").concat(a)}var Da=function(){function e(t){Object(L.a)(this,e),this.network=void 0,this.supportedPairs=void 0,this.providersWithMarketByPair=void 0;var n=t.providersWithMarketByPair,a=t.network;this.network=a,this.providersWithMarketByPair=n,this.supportedPairs=Object.keys(va)}return Object(y.a)(e,[{key:"isPairSupported",value:function(e){return this.supportedPairs.includes(ya(e))}},{key:"previewGivenSend",value:function(e,t){if(!this.isPairSupported(t))throw new Error("pair is not supported");return this.previewForPair(e,t,!0)}},{key:"previewGivenReceive",value:function(e,t){if(!this.isPairSupported(t))throw new Error("pair is not supported");return this.previewForPair(e,t,!1)}},{key:"previewForPair",value:function(){var e=Object(de.a)(le.a.mark((function e(t,n){var a,r,c,i,s,o,u,l,d,p,b,m,O,j,h,A,f,E,x,v,R=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(R.length>2&&void 0!==R[2])||R[2],!((r=wa(t.amount.toNumber(),Sa[this.network][t.currency].precision))<1)){e.next=4;break}throw new Error("amount too low");case 4:if(c=La(n),i=Object(T.a)(c,2),s=i[0],o=i[1],u=this.providersWithMarketByPair[ya([s,o])]){e.next=8;break}throw new Error("TDEX providers for the chosen pair are not reachable");case 8:l=a&&t.currency===s||!a&&t.currency!==o,d=l?Na.TradeType.SELL:Na.TradeType.BUY,m=Object(Mt.a)(u),e.prev=11,m.s();case 13:if((O=m.n()).done){e.next=33;break}return j=O.value,e.prev=15,h=new Na.TraderClient(j.provider.endpoint),e.next=19,h.marketPrice(j.market,d,r,Sa[this.network][t.currency].hash);case 19:if((A=e.sent)&&0!==A.length){e.next=22;break}throw new Error("price fetching failed");case 22:f=Object(T.a)(A,1),E=f[0],d===Na.TradeType.BUY?E.balance&&(!p||E.balance.baseAmount>p.balance.baseAmount)&&(p=Object(P.a)({},E),b=j):E.balance&&(!p||E.balance.quoteAmount>p.balance.quoteAmount)&&(p=Object(P.a)({},E),b=j),e.next=31;break;case 26:return e.prev=26,e.t0=e.catch(15),console.error(e.t0),console.warn("TDEX provider ".concat(j.provider.name," is not reachable")),e.abrupt("continue",31);case 31:e.next=13;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(11),m.e(e.t1);case 38:return e.prev=38,m.f(),e.finish(38);case 41:return x=new CustomEvent("bestProvider",{detail:b}),window.dispatchEvent(x),v=t.currency===s?o:s,e.abrupt("return",{amountWithFees:{amount:new Z.a(Ia(p.amount,Sa[this.network][v].precision)),currency:Pa[this.network][p.asset]}});case 45:case"end":return e.stop()}}),e,this,[[11,35,38,41],[15,26]])})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"WithTdexProviders",value:function(){var e=Object(de.a)(le.a.mark((function e(t,n){var a,r,c,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},r=Object(Mt.a)(t),e.prev=2,i=le.a.mark((function e(){var t,r,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,r=new Na.TraderClient(t.endpoint),i=void 0,e.prev=3,e.next=6,r.markets();case 6:i=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),new Error("TDEX provider ".concat(t.name," is not reachable"));case 12:i.forEach((function(e){var r=e.baseAsset,c=e.quoteAsset,i=ya([Pa[n][r],Pa[n][c]]);a.hasOwnProperty(i)?a[i].push({provider:t,market:e}):a[i]=[{provider:t,market:e}]}));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})),r.s();case 5:if((c=r.n()).done){e.next=9;break}return e.delegateYield(i(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),r.e(e.t1);case 14:return e.prev=14,r.f(),e.finish(14);case 17:return e.abrupt("return",{network:n,providersWithMarketByPair:a});case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ka={bestProvider:void 0},Ba=Object($e.b)({name:"tdex",initialState:ka,reducers:{setBestProvider:function(e,t){e.bestProvider=t.payload}}}),Ma=Ba.actions.setBestProvider,Ha=function(e){return e.tdex.bestProvider},Xa=Ba.reducer;var Ua=n(1306),Fa=n(575),Ga=["inputRef","onChange","negativeEnabled","decimalScale"],Za=function(e){var t=e.inputRef,n=e.onChange,a=e.negativeEnabled,r=e.decimalScale,c=Object(Ot.a)(e,Ga);return Object(j.jsx)(Fa.a,Object(P.a)(Object(P.a)({},c),{},{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},isNumericString:!0,decimalScale:r,allowNegative:!!a}))},Qa=["decimalScale","InputProps","inputProps"],Wa=function(e){var t=e.decimalScale,n=e.InputProps,a=e.inputProps,r=Object(Ot.a)(e,Qa);return Object(j.jsx)(pe.a,Object(P.a)({InputProps:Object(P.a)({inputComponent:Za,inputProps:Object(P.a)({decimalScale:t},a)},n)},r))},qa=n(1318),Ka=function(e){var t=e.options,n=e.variant,a=e.defaultValue,r=e.onChange,c=e.value,i=e.disabled,s=e.disableUnderline,o=e.className,u=d.a.useState(c.id||a.id||t[0].id),l=Object(T.a)(u,2),p=l[0],b=l[1];d.a.useEffect((function(){c.id!==p&&b(c.id)}),[p,c]);return Object(j.jsx)(qa.a,{children:Object(j.jsx)(pe.a,{select:!0,InputProps:{disableUnderline:s},className:o,value:p,onChange:function(e){var n=e.target.value,a=t.filter((function(e){return e.id===n}))[0];b(n),r(a)},variant:n,disabled:i,SelectProps:{MenuProps:{disableScrollLock:!0}},children:t.map((function(e){return Object(j.jsx)(Sn.a,{value:e.id,children:e.label||e.id},e.id)}))})})},Va=Object(w.a)((function(){return Object(I.a)({selectAsset:{width:"8rem","& .MuiSelect-select:focus":{"background-color":"inherit"},"& .MuiSelect-root":{display:"flex",alignItems:"center"}}})})),za=function(e){var t=Va(),n=e.label,a=e.value,r=e.onAmountChange,c=e.onAssetChange,i=e.selectedAsset,s=e.placeholder,o=e.loading,u=e.error;return o?Object(j.jsx)(Ua.a,{variant:"text",height:58,animation:"wave"}):Object(j.jsx)(Wa,{label:n,value:a,onChange:r,autoFocus:!0,fullWidth:!0,placeholder:s,error:!!u,helperText:u,InputProps:{endAdornment:Object(j.jsx)(Ka,{disableUnderline:!0,className:t.selectAsset,options:O.b,onChange:c,value:i})},InputLabelProps:{shrink:!0}})},Ya=n(228),Ja=Object(w.a)((function(e){return Object(I.a)({root:{marginBottom:"2rem"},link:{color:e.palette.text.primary,fontSize:"1rem",letterSpacing:"0.67px",textDecoration:"none"}})}));function $a(){var e=Ja();return Object(j.jsx)(N.a,{item:!0,container:!0,justify:"center",alignItems:"center",wrap:"nowrap",spacing:1,xs:12,className:e.root,children:Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)(Ya.a,{to:Nc.BOLTZ_REFUND,className:e.link,children:"Check swap status or refund"})})})}var er,tr=Object(w.a)((function(){return Object(I.a)({wrapper:{display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"},button:{width:48,minWidth:48,height:48,padding:16},icon:{transform:"rotate(270deg)",margin:-3},upIcon:{opacity:.4}})})),nr=function(e){var t=e.onClick,n=e.disabled,a=tr(),r="".concat(a.icon," ").concat(a.upIcon);return Object(j.jsx)("div",{className:a.wrapper,onClick:t,children:Object(j.jsxs)(vt,{variant:"contained",className:a.button,disabled:n,children:[Object(j.jsx)("img",{src:qe.rightArrowPlain,alt:"Icon Up",className:r}),Object(j.jsx)("img",{src:qe.leftArrow,alt:"Icon Down",className:a.icon})]})})},ar=Object(w.a)((function(){return Object(I.a)({root:{display:"flex","flex-direction":"column","justify-content":"space-between",flex:1},content:{padding:"2rem"},text:{marginBottom:"1rem",fontSize:"1.5rem",lineHeight:"normal",letterSpacing:"1px"},amount:{display:"flex",justifyContent:"center",marginBottom:"1rem"},right:{display:"flex",justifyContent:"flex-end"},amountscontainer:{marginTop:"1rem"},errorMessageContainer:{minHeight:"1.5rem",marginTop:"1rem"}})})),rr=function(e){var t,n=ar(),a=Object(l.useState)(O.c.BTC),r=Object(T.a)(a,2),c=r[0],i=r[1],s=Object(l.useState)(O.c.LIGHTNING_BTC),o=Object(T.a)(s,2),u=o[0],d=o[1],p=Object(l.useState)(""),m=Object(T.a)(p,2),h=m[0],A=m[1],f=Object(l.useState)(""),E=Object(T.a)(f,2),x=E[0],v=E[1],R=Object(l.useState)(""),g=Object(T.a)(R,2),C=g[0],_=g[1],S=Object(l.useState)(""),P=Object(T.a)(S,2),w=P[0],I=P[1],L=Object(l.useState)(!1),y=Object(T.a)(L,2),D=y[0],k=y[1],B=Object(b.g)(),M=function(e,t){for(var n=0,a=Object.entries(Qn);n<a.length;n++){var r=Object(T.a)(a[n],2),c=r[0];if(r[1].some((function(n){return(n.direction===gn.BOTH&&n.pair.includes(e)&&n.pair.includes(t)||n.direction===gn.SINGLE&&n.pair[0]===e&&n.pair[1]===t)&&(e!==t||n.pair[0]===n.pair[1])})))return c}}(c,u),H=Object(l.useState)(null),X=Object(T.a)(H,2),U=X[0],F=X[1],G=O.b.find((function(e){return e.id===c})),Q=O.b.find((function(e){return e.id===u})),W=D||0===Number(h)||0===Number(x)||!M||!!w,q=function(){var e=ut(),t=Object(l.useCallback)(e,[e]),n=Object(l.useState)(null),a=Object(T.a)(n,2),r=a[0],c=a[1];return Object(l.useEffect)((function(){Object(de.a)(le.a.mark((function e(){var n,a,r,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="regtest",a=[{name:"development daemon",endpoint:"http://localhost:9945"}],e.next=5,fetch("https://raw.githubusercontent.com/TDex-network/tdex-registry/master/registry.json");case 5:return r=e.sent,e.next=8,r.json();case 8:a=e.sent,n="liquid";case 10:return e.prev=10,e.t0=Da,e.next=14,Da.WithTdexProviders(a,n);case 14:e.t1=e.sent,i=new e.t0(e.t1),c(i),window.addEventListener("bestProvider",(function(e){t(Ma(e.detail))}),!1),e.next=24;break;case 20:return e.prev=20,e.t2=e.catch(10),console.error(e.t2),e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[10,20]])})))()}),[t]),r}(),K=Oe(),V=pa().rateFetcher;switch(M){case Rn.TDEX:t=q;break;case Rn.COMIT:t=V;break;case Rn.BOLTZ:t=K}var z=function(e){return!Number.isNaN(e)&&Number(e)>0},Y=function(){var e=Object(de.a)(le.a.mark((function e(n){var a,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(""),!D){e.next=3;break}return e.abrupt("return");case 3:if(a=n.target.value,A(a),!t||!z(a)){e.next=22;break}return k(!0),r=new Z.a(a),e.prev=8,F(null),e.next=12,t.previewGivenSend({amount:r,currency:G.id},[G.id,Q.id]);case 12:return c=e.sent,v(ee(c.amountWithFees.amount)),e.next=16,$(c.amountWithFees.amount);case 16:k(!1),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),U||F(e.t0);case 22:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(de.a)(le.a.mark((function e(n){var a,r,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(""),!D){e.next=3;break}return e.abrupt("return");case 3:if(a=n.target.value,v(a),!t||!z(a)){e.next=21;break}return k(!0),r=new Z.a(a),e.prev=8,$(r),F(null),e.next=13,t.previewGivenReceive({amount:r,currency:Q.id},[G.id,Q.id]);case 13:c=e.sent,A(ee(c.amountWithFees.amount)),k(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),U||F(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(de.a)(le.a.mark((function e(n){var a,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t)||void 0===a?void 0:a.getLimits)){e.next=5;break}return e.next=3,t.getLimits([G.id,Q.id]);case 3:r=e.sent,n.gt(r.maximal)?I("Max amount is ".concat(ee(r.maximal))):n.lt(r.minimal)&&I("Min amount is ".concat(ee(r.minimal)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){return e.toNumber().toLocaleString("en-US",{maximumFractionDigits:8})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Gn,{children:Object(j.jsxs)("div",{className:n.root,children:[Object(j.jsxs)(N.a,{container:!0,justify:"flex-start",className:n.content,children:[Object(j.jsx)(_t.a,{className:n.text,component:"h2",align:"left",children:"Swap"}),Object(j.jsxs)(N.a,{container:!0,justify:"center",direction:"row",alignItems:"center",children:[Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(za,{label:"You send",value:h,placeholder:"0.00",onAmountChange:Y,onAssetChange:function(e){return i(e.id)},selectedAsset:G,error:C})}),Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(nr,{onClick:function(){i(Q.id),d(G.id)}})}),Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(za,{label:"You receive",value:x,placeholder:"0.00",onAmountChange:J,onAssetChange:function(e){return d(e.id)},selectedAsset:Q,error:w})})]}),Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",className:n.errorMessageContainer,children:[!M&&Object(j.jsx)(Pt,{message:"Trading pair not supported"}),U?Object(j.jsx)(Pt,{message:U.message}):Object(j.jsx)(j.Fragment,{})]})]}),Object(j.jsx)(vt,{fullWidth:!0,variant:"contained",color:"primary",disabled:W,onClick:function(){var e=new URLSearchParams;e.append("sendAmount",h),e.append("receiveAmount",x),B.push(wc(Nc.NEW_SWAP,{swapProvider:M,sendAsset:c,receiveAsset:u},e))},children:"Next"})]})}),M===Rn.BOLTZ&&Object(j.jsx)($a,{})]})},cr=n(577),ir=n.n(cr),sr=n(1330),or=n(1307),ur=n(1295),lr=n(388);!function(e){e.WINDOWS="Windows",e.MAC="Darwin",e.LINUX="Linux",e.UNSUPPORTED="Unsupported"}(er||(er={}));var dr=function(){var e=er.UNSUPPORTED;return-1!==navigator.appVersion.indexOf("Win")?e=er.WINDOWS:-1!==navigator.appVersion.indexOf("Mac")?e=er.MAC:-1!==navigator.appVersion.indexOf("Linux")&&(e=er.LINUX),e};var pr=function(e){var t=e.sendAmount,n=e.sendAsset,r=pa(),c=r.latestQuote,i=r.error,s=function(){var e=Object(l.useState)("https://github.com/comit-network/xmr-btc-swap/releases/latest"),t=Object(T.a)(e,2),n=t[0],a=t[1];return Object(l.useEffect)((function(){Ye.a.get("https://api.github.com/repos/comit-network/xmr-btc-swap/releases/latest").then((function(e){var t,n=e.data,r=dr(),c=Object(Mt.a)(n.assets);try{for(c.s();!(t=c.n()).done;){var i=t.value;i.name.startsWith("swap")&&i.name.includes(r)&&a(i.browser_download_url)}}catch(s){c.e(s)}finally{c.f()}}))}),[a]),n}(),o=d.a.useState(!1),u=Object(T.a)(o,2),p=u[0],b=u[1],m=function(){b(!1)},O=x().network,h=br(),A=Object(l.useState)(""),f=Object(T.a)(A,2),E=f[0],v=f[1],R=Object(l.useState)(null),g=Object(T.a)(R,2),C=g[0],_=g[1];Object(l.useEffect)((function(){_(null),v("")}),[O]);var S=O===a.Mainnet?"^4([0-9]|[A-B])(.){93}$":"^5([0-9]|[A-B])(.){93}$",P=new RegExp(S),N="matchRegexp:"+S,w="./swap";if(dr()===er.WINDOWS&&(w='start /b "swap" swap.exe'),"BTC"!==n)return Object(j.jsx)("div",{children:"Only buying XMR is supported at the moment (you send BTC, you receive XMR)"});if(i)return Object(j.jsx)("div",{children:i.message});if(!c)return Object(j.jsx)("div",{children:"Loading latest price..."});var I=zn.fromBtc(t),L=ia(I,c.price);return Object(j.jsxs)("div",{children:[Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",p:1,m:1,className:h.text,children:["You send",Object(j.jsx)(qa.a,{className:h.amount,children:I.toBtcString()+" BTC"}),"and receive approx.",Object(j.jsx)(qa.a,{className:h.amount,children:L.toXmrString()+" XMR"})]}),Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",p:1,m:1,className:h.text,children:["Provider's minimum send quantity per swap:"," ",Object(j.jsxs)(qa.a,{className:h.amount,children:[c.min_quantity.toBtcString()," BTC"]})]}),Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",p:1,m:1,className:h.text,children:["Provider's maximum send quantity per swap:"," ",Object(j.jsxs)(qa.a,{className:h.amount,children:[c.max_quantity.toBtcString()," BTC"]})]}),Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",p:1,m:1,children:[Object(j.jsx)(sr.a,{className:h.step_number,children:"1"}),Object(j.jsx)("a",{href:s,download:!0,className:h.step_text,children:"Download swap CLI"})]}),Object(j.jsxs)(qa.a,{component:"span",display:"block",p:1,m:1,children:[Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(j.jsx)(sr.a,{className:h.step_number,children:"2"}),Object(j.jsx)(qa.a,{className:h.step_text,children:"Enter Monero stagenet address to receive XMR:"})]}),Object(j.jsx)(qa.a,{component:"span",display:"block",mt:1,children:Object(j.jsx)(lr.ValidatorForm,{onSubmit:function(){},children:Object(j.jsx)(lr.TextValidator,{id:"moneroAddress",label:"Your Monero stagenet wallet address",fullWidth:!0,value:E,onChange:function(e){var t=e.target.value;P.exec(t)?_(t):_(null),v(t)},validators:[N],errorMessages:["Invalid Monero Stagenet Address"]})})})]}),C?Object(j.jsxs)(qa.a,{children:[Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",p:1,m:1,children:[Object(j.jsx)(sr.a,{className:h.step_number,children:"3"}),Object(j.jsx)(qa.a,{className:h.step_text,children:"Copy command to execute swap in CLI (*):"})]}),Object(j.jsxs)(qa.a,{display:"flex",p:1,m:1,flexDirection:"row",alignItems:"center",children:[Object(j.jsxs)(qa.a,{id:"command",overflow:"scroll",whiteSpace:"nowrap",className:h.text,children:[w," ",O===a.Mainnet?"":"--testnet"," buy-xmr --seller-addr=",ta(O).toString()," --seller-peer-id=",ea(O).toString()," --receive-address=",E]}),Object(j.jsx)(qa.a,{flexBasis:0,children:Object(j.jsx)(or.a,{onClickAway:m,children:Object(j.jsx)("div",{children:Object(j.jsx)(me.a,{PopperProps:{disablePortal:!0},onClose:m,open:p,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:"Command copied to clipboard",placement:"right",children:Object(j.jsx)(ur.a,{color:"primary",onClick:function(){var e=document.getElementById("command");e&&(navigator.clipboard.writeText(e.innerText),b(!0))},children:Object(j.jsx)(ir.a,{fontSize:"large"})})})})})})]}),Object(j.jsx)(qa.a,{display:"block",p:1,m:1,children:"(*) Assumes that you run the command in the folder where you downloaded and unpacked the swap CLI binary!"})]}):Object(j.jsxs)(qa.a,{display:"flex",flexDirection:"row",alignItems:"center",p:1,m:1,children:[Object(j.jsx)(sr.a,{className:h.step_number_inactive,children:"3"}),Object(j.jsx)(qa.a,{className:h.step_text_inactive,children:"Enter valid Monero Address to see Command"})]})]})},br=Object(w.a)((function(e){return Object(I.a)({amount:{color:e.palette.primary.main,marginRight:5,marginLeft:5},text:{color:"white",fontSize:16},step_text:{color:e.palette.primary.main,fontSize:18},step_number:{borderColor:e.palette.primary.main,borderWidth:3,borderStyle:"solid",color:e.palette.getContrastText(e.palette.primary.dark),backgroundColor:e.palette.primary.dark,fontWeight:1e3,marginRight:10},step_text_inactive:{color:"gray",fontSize:18},step_number_inactive:{borderColor:"darkgray",borderWidth:3,borderStyle:"solid",color:"white",backgroundColor:"gray",fontWeight:1e3,marginRight:10}})})),Tr=function(){var e=x(),t=e.network,n=e.setNetwork;return Object(j.jsx)(qa.a,{style:{marginTop:"2rem"},children:Object(j.jsx)(pe.a,{select:!0,className:"currency-options",value:t,onChange:function(e){n(e.target.value)},variant:"outlined",SelectProps:{MenuProps:{disableScrollLock:!0}},children:Object.entries(a).map((function(e){var t=Object(T.a)(e,2),n=t[0],a=t[1];return Object(j.jsx)(Sn.a,{value:a,children:n},n)}))})})},mr={typography:{fontFamily:'"ApercuProMedium", "Roboto", "Helvetica", "Arial", sans-serif'},palette:{type:"dark",text:{primary:"#f2f2f2",secondary:"#979797"},background:{default:"#1F1645",paper:"#674C4C"},primary:{main:"#f15a24",contrastText:"#0c0c0c"},secondary:{main:"#f2f2f2"}}},Or=Object(w.a)((function(){return Object(I.a)({text:{fontFamily:"ApercuProRegular",color:"#636363",fontSize:"1rem",letterSpacing:"1px"},imageContainer:{display:"flex",alignItems:"center"},image:{height:"1.25rem"},root:{marginBottom:"2rem"}})})),jr=[{providerName:Rn.BOLTZ,logos:[{source:qe.logo,alt:"Boltz logo"},{source:qe.boltz,alt:"Boltz"}]},{providerName:Rn.COMIT,logos:[{source:qe.comitLogo,alt:"Comit"}]},{providerName:Rn.TDEX,logos:[{source:qe.tdexLogo,alt:"TDex"}]}];function hr(e){var t=e.provider,n=Or(),a=jr.find((function(e){return e.providerName===t}));return Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",alignItems:"center",wrap:"nowrap",spacing:1,xs:12,className:n.root,children:[Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)(_t.a,{className:n.text,children:"Swap powered by"})}),a.logos.map((function(e){return Object(j.jsx)(N.a,{item:!0,className:n.imageContainer,children:Object(j.jsx)("img",{src:e.source,alt:e.alt,className:n.image})},e.alt)}))]})}var Ar,fr=Object(w.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},instructions:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),Er=function(e){var t=e.onConnect,n=e.installed,a=e.connected,r=fr(),c=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",alert("Marina is not installed"));case 2:return e.next=4,window.marina.enable();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(de.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",alert("Marina is not installed"));case 2:if(a){e.next=4;break}return e.abrupt("return",alert("User must enable this website to proceed"));case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:r.root,children:n&&a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t.a,{className:r.instructions,children:"\ud83c\udf89 Connected"}),Object(j.jsx)(ht.a,{variant:"contained",color:"primary",onClick:i,children:"Go ahead"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t.a,{className:r.instructions,children:"Connect your wallet"}),n?Object(j.jsx)(ht.a,{className:r.button,variant:"contained",color:"primary",onClick:c,children:"Connect with Marina Wallet"}):Object(j.jsx)(ht.a,{className:r.button,variant:"contained",color:"primary",onClick:function(){var e=window.open("https://chrome.google.com/webstore/detail/nhanebedohgejbllffboeipobccgedhl","_blank","noopener,noreferrer");e&&(e.opener=null)},children:"Install Marina Wallet extension"}),Object(j.jsx)(ht.a,{className:r.button,variant:"contained",disabled:!0,onClick:c,children:"In-browser wallet (coming soon)"})]})})},xr=n(156),vr=function(e){Object(Qt.a)(n,e);var t=Object(Wt.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e))._provider=void 0,a.blindKeyByScript={},a._provider=window[e.value.windowProvider],a}return Object(y.a)(n,[{key:"getBlindingPrivateKey",value:function(){var e=Object(de.a)(le.a.mark((function e(t){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.blindKeyByScript.hasOwnProperty(t)){e.next=2;break}return e.abrupt("return",this.blindKeyByScript[t]);case 2:return e.prev=2,e.next=5,this._provider.getAddresses();case 5:if(e.sent.forEach((function(e){xr.address.toOutputScript(e.confidentialAddress).toString("hex")===t&&(n=e)})),n){e.next=9;break}throw new Error("no blinding key for script "+t);case 9:return this.blindKeyByScript[t]=n.blindingPrivateKey,e.abrupt("return",n.blindingPrivateKey);case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(xr.BrowserInject),Rr=Object(w.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},instructions:{marginTop:e.spacing(3),marginBottom:e.spacing(6)},terms:{marginTop:e.spacing(1),marginBottom:e.spacing(1),fontSize:"1.25rem",lineHeight:"normal"},buttons:{marginTop:e.spacing(6),justifyContent:"center",alignItems:"center",flexDirection:"row"}}})),gr=function(e){var t=e.onTrade,n=e.onReject,a=e.terms,r=e.chain,c=e.providerWithMarket,i=Rr(),s=Object(l.useState)(!1),o=Object(T.a)(s,2),u=o[0],d=o[1],p=ba[r],b=new vr({chain:r,type:xr.IdentityType.Inject,value:{windowProvider:"marina"}}),m=function(){var e=Object(de.a)(le.a.mark((function e(){var n,i,s,o,u,l,T,m;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,window.marina.getAddresses();case 4:return n=e.sent,e.next=7,Object(xr.fetchAndUnblindUtxos)(n,p);case 7:if(i=e.sent,s=new Na.Trade({providerUrl:c.provider.endpoint,explorerUrl:p,coinSelector:Object(xr.greedyCoinSelector)(),utxos:i}),o=Sa[r][a.assetToBeSent],u=o.precision,l=o.hash,T=wa(a.amountToBeSent,u),!(Sa[r][a.assetToBeSent].hash===c.market.quoteAsset)){e.next=18;break}return e.next=15,s.buy({market:c.market,amount:T,asset:l,identity:b});case 15:m=e.sent,e.next=21;break;case 18:return e.next=20,s.sell({market:c.market,amount:T,asset:l,identity:b});case 20:m=e.sent;case 21:d(!1),t(m),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(0),d(!1),console.error(e.t0),alert(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:i.root,children:[Object(j.jsx)(_t.a,{className:i.instructions,children:"Review the terms of the trade before confirming"}),Object(j.jsxs)(_t.a,{className:i.terms,children:["\ud83d\udce4 You send ",a.amountToBeSent," of ",a.assetToBeSent]}),Object(j.jsx)("br",{}),Object(j.jsxs)(_t.a,{className:i.terms,children:["\ud83d\udce5 You receive ",a.amountToReceive," of ",a.assetToReceive]}),u?Object(j.jsx)(At.a,{}):Object(j.jsxs)("div",{className:i.buttons,children:[Object(j.jsx)(ht.a,{onClick:n,children:"Reject"}),Object(j.jsx)(ht.a,{variant:"contained",color:"primary",onClick:m,children:"Accept"})]})]})},Cr=Object(w.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),_r=function(e){var t=e.steps,n=e.activeStep,a=Cr();return Object(j.jsx)("div",{className:a.root,children:Object(j.jsx)(nn.a,{activeStep:n,alternativeLabel:!0,children:t.map((function(e){return Object(j.jsx)(an.a,{children:Object(j.jsx)(rn.a,{children:e})},e)}))})})},Sr=Object(w.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},result:{marginTop:e.spacing(6),marginBottom:e.spacing(3),fontSize:"1.5rem",lineHeight:"normal"},button:{marginTop:e.spacing(3),marginBottom:e.spacing(6)},image:{marginTop:e.spacing(2),marginBottom:e.spacing(4)}}})),Pr=function(e){var t=e.chain,n=e.txid,a=e.onNewTrade,r=Sr();return Object(j.jsxs)("div",{className:r.root,children:[Object(j.jsx)(_t.a,{className:r.result,children:"Trade completed"}),Object(j.jsx)("img",{src:qe.success,alt:"Success",className:r.image}),Object(j.jsx)(ht.a,{variant:"contained",onClick:function(){return function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}("".concat(Ta[t],"/tx/").concat(n))},children:"Open in explorer"}),Object(j.jsx)(ht.a,{onClick:a,children:"New trade"})]})},Nr=Object(w.a)((function(e){return Object(I.a)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"1rem",marginBottom:"1rem"},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},info:{marginTop:e.spacing(1),marginBottom:e.spacing(1),paddingLeft:"25px",paddingRight:"25px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},infoText:{flex:"1 1 100%",wordWrap:"break-word",wordBreak:"break-all"}})})),wr=["Connect","Review & Confirm","Summary"];!function(e){e[e.Connect=0]="Connect",e[e.Review=1]="Review",e[e.Summary=2]="Summary"}(Ar||(Ar={}));var Ir=function(e){var t=e.sendAsset,n=e.receiveAsset,a=e.sendAmount,r=e.receiveAmount,c=Nr(),i=d.a.useState(Ar.Connect),s=Object(T.a)(i,2),o=s[0],u=s[1],p=Object(b.g)(),m=lt(Ha);if(!m)throw new Error("TDEX: no provider has been selected");var O=Object(l.useState)(!0),h=Object(T.a)(O,2),A=h[0],f=h[1],E=Object(l.useState)(!1),x=Object(T.a)(E,2),v=x[0],R=x[1],g=Object(l.useState)(!1),C=Object(T.a)(g,2),_=C[0],S=C[1],P=Object(l.useState)("liquid"),N=Object(T.a)(P,2),w=N[0],I=N[1],L=Object(l.useState)(""),y=Object(T.a)(L,2),D=y[0],k=y[1];Object(l.useEffect)((function(){var e=!1,t=setInterval(Object(de.a)(le.a.mark((function t(){var n,a,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!==(n=window.marina)){t.next=4;break}return t.abrupt("return");case 4:return R(!0),t.next=7,n.getNetwork();case 7:if(a=t.sent,I(a),!e){t.next=11;break}return t.abrupt("return");case 11:if(e=!0,!(o>Ar.Connect)){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,n.isEnabled();case 16:r=t.sent,S(r),r&&o===Ar.Connect&&u(Ar.Review),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0),alert(t.t0.message);case 25:return t.prev=25,f(!1),e=!1,t.finish(25);case 29:case"end":return t.stop()}}),t,null,[[0,21,25,29]])}))),1e3);return function(){clearInterval(t)}}),[o]);var B=function(e){k(e),u(Ar.Summary)},M=function(){u((function(e){return e+1}))},H=function(){p.goBack()};if(A)return Object(j.jsx)("div",{className:c.wrapper,children:Object(j.jsx)(At.a,{})});var X=m.provider,U=X.name,F=X.endpoint;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:c.info,children:Object(j.jsxs)("p",{className:c.infoText,children:[" ","Status: ".concat(_?"Connected - Network: ".concat(w):"Not Connected")]})}),Object(j.jsxs)("div",{className:c.wrapper,children:[Object(j.jsx)(_r,{steps:wr,activeStep:o}),Object(j.jsx)("div",{children:function(){switch(o){case Ar.Connect:return Object(j.jsx)(Er,{installed:v,connected:_,onConnect:M});case Ar.Review:return Object(j.jsx)(gr,{chain:w,providerWithMarket:m,terms:{assetToBeSent:t,amountToBeSent:Number(a.replace(",","")),assetToReceive:n,amountToReceive:Number(r.replace(",",""))},onTrade:B,onReject:H});case Ar.Summary:return Object(j.jsx)(Pr,{chain:w,txid:D,onNewTrade:H});default:return null}}()})]}),Object(j.jsx)("div",{className:c.info,children:Object(j.jsxs)("p",{className:c.infoText,children:["Market provided by "," ".concat(U," - ").concat(F)]})})]})},Lr=Object(w.a)((function(){return Object(I.a)({title:{marginTop:"2rem",fontSize:"2rem",fontWeight:500,fontStretch:"normal",fontStyle:"normal",lineHeight:"normal",letterSpacing:"1.33px",textAlign:"center"}})})),yr=function(e){var t=e.children,n=Lr();return Object(j.jsx)(_t.a,{className:n.title,component:"h1",align:"center",children:t})},Dr=Object(w.a)((function(e){return Object(I.a)({outerCircle:{zIndex:-1,display:"flex",position:"fixed",opacity:"0.1",background:"linear-gradient(right bottom, ".concat(e.palette.background.default," 0%, ").concat(e.palette.primary.main," 100%)"),"border-radius":"50%","align-items":"center","justify-content":"center",height:"80vw",width:"80vw",top:"max(-200px, calc(-60vw + 100px))",right:"max(-200px, calc(-70vw + 100px))","max-width":675,"max-height":675,"min-width":180,"min-height":180},innerCircle:{background:e.palette.background.default,"border-radius":"50%",height:"calc(80vw - 75px)",width:"calc(80vw - 75px)","max-width":600,"max-height":600,"min-width":150,"min-height":150},background:{zIndex:-2,position:"fixed",height:"100%",width:"100%",background:"#8223ff",opacity:.1,backgroundImage:"radial-gradient(circle at 30% 51%, #00A6FF, #0a0e1a 73%)"}})})),kr=function(e){var t=e.children,n=Dr();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:n.background}),Object(j.jsx)("div",{className:n.outerCircle,children:Object(j.jsx)("div",{className:n.innerCircle})}),t]})},Br=n(1308),Mr=Object(w.a)((function(){return Object(I.a)({root:{opacity:.3}})})),Hr=function(e){var t=Mr();return Object(j.jsx)(Br.a,{className:t.root,variant:"middle"})},Xr=Object(w.a)((function(e){return Object(I.a)({text:{display:"flex",justifyContent:"center",margin:"1rem 0",color:e.palette.text.secondary}})})),Ur=function(){var e=Xr();return Object(j.jsxs)(N.a,{container:!0,justify:"center",direction:"row",alignItems:"center",className:e.root,children:[Object(j.jsx)(N.a,{item:!0,xs:12,children:Object(j.jsx)(Hr,{})}),Object(j.jsx)(N.a,{item:!0,className:e.text,xs:11,sm:9,children:"Liiska CoinSwap does not collect any personal data and ensures swaps are secure."})]})},Fr=n(1310),Gr=n(1311),Zr=n(1309),Qr=n.p+"static/media/swap.dc1c2bbe.png",Wr=n(1240),qr=n(1237),Kr=n(584),Vr=n(1293),zr=Object(w.a)((function(e){return Object(I.a)({navLink:{color:e.palette.text.primary,fontSize:"1rem",letterSpacing:"0.67px"}})})),Yr=function(e){var t=Object.assign({},e),n=zr();return Object(j.jsx)(yt.a,Object(P.a)({className:n.navLink,target:"_blank",rel:"noopener noreferrer"},t))},Jr=Object(w.a)((function(){return Object(I.a)({menuOpener:{minWidth:36,height:36},popper:{marginTop:5}})})),$r=Object(Zr.a)()((function(e){var t=e.width,n=Object(l.useState)(!1),a=Object(T.a)(n,2),r=a[0],c=a[1],i="menuOpener",s=Jr(),o=function(){return c(!1)},u=Object(j.jsx)(Yr,{href:"https://github.com/yd-915/liiskaswap",children:"Source Code"});return Object(Zr.b)("sm",t)?Object(j.jsx)(N.a,{container:!0,spacing:1,justify:"flex-end",direction:"row",alignItems:"center",children:Object(j.jsx)(N.a,{item:!0,children:u})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)(vt,{className:s.menuOpener,"aria-haspopup":"true",variant:"contained",onClick:function(){return c((function(e){return!e}))},id:i,children:[r&&Object(j.jsx)("img",{src:qe.close,alt:""}),!r&&Object(j.jsx)("img",{src:qe.hamburger,alt:""})]}),Object(j.jsx)(Wr.a,{open:r,transition:!0,placement:"bottom-start",className:s.popper,anchorEl:document.getElementById(i),children:function(e){var t=e.TransitionProps;return Object(j.jsx)(qr.a,Object(P.a)(Object(P.a)({},t),{},{children:Object(j.jsx)(Kr.a,{children:Object(j.jsx)(or.a,{onClickAway:o,children:Object(j.jsx)(Vr.a,{autoFocusItem:r,children:Object(j.jsx)(Sn.a,{onClick:o,children:u})})})})}))}})]})})),ec=Object(w.a)((function(){return Object(I.a)({toolbar:{flexWrap:"wrap"}})})),tc=Object(Zr.a)()((function(e){var t=ec(),n=e.width,a=Object(b.g)();return Object(j.jsxs)("div",{children:[Object(j.jsx)(Fr.a,{elevation:0,color:"transparent",position:"static",children:Object(j.jsx)(Gr.a,{classes:{root:t.toolbar},children:Object(j.jsxs)(N.a,{justify:"space-between",container:!0,direction:Object(Zr.b)("sm",n)?"row":"row-reverse",alignItems:"center",children:[Object(j.jsx)("img",{src:Qr,height:"200px",width:"400px",alt:"",onClick:function(){a.push(Nc.HOME)}}),Object(j.jsx)(N.a,{item:!0,children:Object(j.jsx)($r,{})})]})})}),Object(j.jsx)(Hr,{})]})})),nc=Object(w.a)((function(){return Object(I.a)({box:{height:"100vh",display:"flex",flexDirection:"column"},content:{display:"flex",flex:1,justifyContent:"center"}})})),ac=function(e){var t=nc();return Object(j.jsx)(kr,{children:Object(j.jsxs)(qa.a,{className:t.box,children:[Object(j.jsx)(tc,{}),Object(j.jsx)(N.a,{item:!0,className:t.content,children:e.children}),Object(j.jsx)(Ur,{})]})})},rc=n(1239),cc=n(1242),ic=n(1312),sc=Object(w.a)((function(){return Object(I.a)({list:{maxHeight:"10rem",width:"100%",overflowY:"auto",margin:"1rem 0"},swapId:{paddingRight:"2rem"},uploadButton:{marginTop:"1rem"},uploadedPlaceholder:{minWidth:"2.5rem"},uploadSuccess:{width:"1.5rem",marginTop:"1rem",marginLeft:"1rem"},input:{display:"none"},hintIcon:{height:"1.25rem",marginLeft:"0.5rem"},subtitle:{display:"flex",alignItems:"center"}})})),oc=function(e){var t=sc(),n=e.setErrorMessage,a=e.setRefundDetails,r=e.asset,c=Object(l.useState)(void 0),i=Object(T.a)(c,2),s=i[0],o=i[1],u=Object(l.useState)([]),p=Object(T.a)(u,2),b=p[0],m=p[1],O=Object(l.useState)(""),h=Object(T.a)(O,2),A=h[0],f=h[1],E=Object(l.useMemo)((function(){return d.a.createRef()}),[]);return Object(l.useEffect)((function(){m(Object($.d)().filter((function(e){return e.currency===r})).reverse())}),[r]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t.a,{variant:"body1",color:"textSecondary",component:"h6",className:t.subtitle,children:Object(j.jsxs)(j.Fragment,{children:["Select from recent swaps",Object(j.jsx)(me.a,{title:"These are the refund files that are stored in the browser. Clearing your browser cache would result in the deletion of these files.",children:Object(j.jsx)("img",{className:t.hintIcon,src:qe.questionIcon,alt:"hint"})})]})}),Object(j.jsx)(rc.a,{className:t.list,children:b.map((function(e){return Object(j.jsx)(cc.a,{button:!0,selected:A===e.swapId,onClick:function(){f(e.swapId),o(void 0),n(""),a(e)},children:Object(j.jsx)(ic.a,{children:Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",children:[Object(j.jsx)(N.a,{item:!0,xs:12,sm:5,children:Object(j.jsxs)(_t.a,{variant:"body2",children:["ID: ",e.swapId]})}),Object(j.jsx)(_t.a,{variant:"caption",children:new Date(e.date).toLocaleString()})]})})},e.swapId)}))}),Object(j.jsx)(_t.a,{variant:"body1",color:"textSecondary",component:"h6",children:"Or upload a refund file"}),Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"center",alignItems:"center",children:[Object(j.jsx)(N.a,{item:!0,className:t.uploadedPlaceholder}),Object(j.jsxs)(N.a,{item:!0,children:[Object(j.jsx)("input",{ref:E,accept:".png, .json",type:"file",className:t.input,onChange:function(e){Object($.c)(e.target.files[0]).then((function(e){o(e),n(e?"":"Failed to read swap data from uploaded file"),f(""),a(e)}))}}),Object(j.jsx)(vt,{variant:"outlined",color:"primary",onClick:function(){var e;return null===E||void 0===E||null===(e=E.current)||void 0===e?void 0:e.click()},className:t.uploadButton,children:"Upload"})]}),Object(j.jsx)(N.a,{item:!0,className:t.uploadedPlaceholder,children:!!s&&Object(j.jsx)("img",{className:t.uploadSuccess,src:qe.greenTick,alt:"Refund file uploaded"})})]})]})},uc=Object(w.a)((function(){return Object(I.a)({iconContainer:{margin:"1.5rem"}})})),lc=function(e){var t=e.swapId,n=e.errorMessage,a=uc(),r="Swap ".concat(t," successfully refunded!");return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N.a,{item:!0,className:a.iconContainer,children:n?Object(j.jsx)("img",{src:qe.snap,alt:"aw, snap!"}):Object(j.jsx)("img",{src:qe.greenTick,alt:"success"})}),Object(j.jsx)(_t.a,{variant:"body1",align:"center",children:n||r})]})},dc=n(1314),pc=n(1313),bc=Object(w.a)((function(){return Object(I.a)({addressField:{marginTop:"1rem"},input:{borderRadius:0}})})),Tc=function(e){var t=bc(),n=e.refundDetails,a=e.swapStatus,r=e.address,c=e.setAddress,i=e.onSwapTransactionChange,s=R().apiEndpoint,o=Object(l.useState)(void 0),u=Object(T.a)(o,2),d=u[0],p=u[1],b=Object(l.useState)(!0),m=Object(T.a)(b,2),O=m[0],A=m[1],f="Insert your ".concat(n.currency," address for refund");return Object(l.useEffect)((function(){if(O){var e=Object(pc.a)(0,6e4).pipe(Object(H.a)((function(){return Object(W.a)(fetch(Object(ce.f)(s),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({id:n.swapId})}))})),Object(H.a)((function(e){return e.json()})),Object(dc.a)(10)).subscribe({next:function(e){p(e),i(e),e.timeoutEta||a.status===h.InvoiceSet||A(!1)},error:function(e){return console.log("Failed to get swap transaction data:",e)}});return function(){return e.unsubscribe()}}}),[O,s,n,a.status,i]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ln,{swapStatus:a}),!!(null===d||void 0===d?void 0:d.transactionHex)&&!J.some((function(e){return e.status.includes(a.status)}))&&Object(j.jsx)(pe.a,{className:t.addressField,multiline:!0,fullWidth:!0,variant:"outlined","aria-label":f,rows:3,disabled:!!(null===d||void 0===d?void 0:d.timeoutEta),placeholder:f,value:r,onChange:function(e){c(e.target.value)},InputProps:{className:t.input}})]})},mc=function(e){return"string"===typeof e?e:e instanceof Error?e.message:""},Oc=function(e){var t=e.asset,n=e.swapId,a=R(),r=a.apiEndpoint,c=Object(l.useState)(""),i=Object(T.a)(c,2),s=i[0],o=i[1],u=Object(l.useState)(!1),d=Object(T.a)(u,2),p=d[0],b=d[1],m=Object(l.useState)(void 0),O=Object(T.a)(m,2),A=O[0],f=O[1],E=Object(l.useState)(void 0),x=Object(T.a)(E,2),v=x[0],g=x[1],C=Object(l.useState)(void 0),_=Object(T.a)(C,2),S=_[0],P=_[1],N=Object(l.useState)(0),w=Object(T.a)(N,2),I=w[0],L=w[1],y=Object(l.useState)(""),D=Object(T.a)(y,2),k=D[0],B=D[1],M=function(){L(0),o(""),f(void 0),g(void 0),P(void 0),B("")},X=function(){var e=new Date,t=new Date(1e3*S.timeoutEta),n=kt((t-e)/1e3),a=n.label,r=n.value;return{label:a,eta:r>0?r:0}},U=(null===v||void 0===v?void 0:v.status)===h.TransactionClaimed,F=[{content:Object(j.jsx)(oc,{asset:t,setErrorMessage:o,setRefundDetails:f}),buttonText:"Check Status",onButtonClick:function(){return G(A.swapId)},buttonDisabled:!A},{content:Object(j.jsx)(Tc,{swapStatus:v,refundDetails:A,address:k,setAddress:B,onSwapTransactionChange:P}),buttonText:function(){if(null===S||void 0===S?void 0:S.error)return S.error;if(U)return"Ok";if(null===S||void 0===S?void 0:S.timeoutEta){var e=X().label;return"Refund possible in ~ ".concat(e)}return"Start Refund"}(),buttonDisabled:!U&&(!S||!!S.error||!!S.timeoutEta||!k),onButtonClick:function(){U?M():(b(!0),Object($.h)(A,k,S.transactionHex,a).subscribe({next:function(){},error:function(e){o(mc(e)||"Refund failed"),b(!1),L((function(e){return e+1}))},complete:function(){Object($.g)(A.swapId),b(!1),L((function(e){return e+1}))}}))}},{content:Object(j.jsx)(lc,{swapId:null===A||void 0===A?void 0:A.swapId,errorMessage:s}),buttonText:"Refund Again",onButtonClick:M}],G=Object(l.useMemo)((function(){return function(e){b(!0),Object(W.a)(fetch(Object(ce.h)(r),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({id:e})})).pipe(Object(H.a)((function(e){return e.json()}))).subscribe({next:function(t){g(t),b(!1),L((function(e){return e+1})),oe(t)||ie(e,r,(function(t,n){g(t),oe(t)&&(n.close(),h.TransactionClaimed===t.status&&Object($.g)(e))}))},error:function(e){o(mc(e)||"Failed to get status"),b(!1)}})}}),[r]);return Object(l.useEffect)((function(){if(n){var e=Object($.d)().find((function(e){return e.swapId===n}));if(!e)return;f(e),G(n)}}),[G,n]),Object(j.jsx)(wt,{title:"Check status or refund",content:F[I].content,mainButtonVisible:!0,mainButtonDisabled:F[I].buttonDisabled,mainButtonLoading:p,mainButtonText:F[I].buttonText,errorMessage:I===F.length-1?"":s,onMainButtonClick:F[I].onButtonClick})},jc=15,hc=1440,Ac=!1,fc="Ether",Ec="ERC20",xc=function(){var e=Object(de.a)(le.a.mark((function e(t,n,a,r,c){var i,s,o,u,l,d,p;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(Mt.a)(c),e.prev=1,i.s();case 3:if((s=i.n()).done){e.next=22;break}if("Lockup"===(o=s.value).event){e.next=7;break}return e.abrupt("continue",20);case 7:if(o.args.refundAddress===r){e.next=9;break}return e.abrupt("continue",20);case 9:return u=n===fc?["bytes32","uint","address","address","uint"]:["bytes32","uint","address","address","address","uint"],l=Je.c.solidityKeccak256(u,o.args),e.next=13,a.swaps(l);case 13:if(!e.sent){e.next=20;break}return e.next=17,a.provider.getBlock(o.blockHash);case 17:d=e.sent,p=new Date(1e3*d.timestamp),t({type:n,contract:a,date:p,id:"".concat(o.transactionHash.substring(0,6),"..."),data:o.args});case 20:e.next=3;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[1,24,27,30]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),vc=function(){var e=Object(de.a)(le.a.mark((function e(t,n,a,r,c){var i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.provider.getBlockNumber();case 2:i=e.sent;case 3:if(!(i>1)){e.next=29;break}if(!Ac){e.next=6;break}return e.abrupt("return");case 6:if(!(i-hc<1)){e.next=17;break}return e.t0=xc,e.t1=t,e.t2=n,e.t3=a,e.t4=r,e.next=14,a.queryFilter(c,0,i);case 14:return e.t5=e.sent,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5),e.abrupt("return");case 17:return e.t6=xc,e.t7=t,e.t8=n,e.t9=a,e.t10=r,e.next=24,a.queryFilter(c,i-hc,i);case 24:e.t11=e.sent,(0,e.t6)(e.t7,e.t8,e.t9,e.t10,e.t11),i-=1441,e.next=3;break;case 29:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Rc=Object(w.a)((function(e){return Object(I.a)({root:{display:"flex","flex-direction":"column","justify-content":"space-between",flex:1,minHeight:440},list:{maxHeight:"10rem",width:"100%",overflowY:"auto",margin:"1rem 0"}})})),gc=function(){var e=Rc(),t=Object(l.useState)(void 0),n=Object(T.a)(t,2),a=n[0],r=n[1],c=Object(l.useState)(""),i=Object(T.a)(c,2),s=i[0],o=i[1],u=Object(l.useState)(!1),d=Object(T.a)(u,2),p=d[0],b=d[1],O=lt(st),h=Object(l.useState)([]),A=Object(T.a)(h,2),f=A[0],E=A[1],x=Object(l.useState)(void 0),v=Object(T.a)(x,2),R=v[0],g=v[1],C=Object(l.useState)(void 0),_=Object(T.a)(C,2),S=_[0],P=_[1],w=Object(l.useState)(!1),I=Object(T.a)(w,2),L=I[0],y=I[1];Object(l.useEffect)((function(){if(a&&!s){E([]);var e={ethereum:{swapContracts:O.swapContracts}},t=function(e,t,n){Ac=!1;var a=t.ethereum.swapContracts;return new Promise(Object(de.a)(le.a.mark((function t(){var r,c,i,s,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAddress();case 2:return r=t.sent,c=new Dt.a(a.EtherSwap,m.ContractABIs.EtherSwap,e),i=new Dt.a(a.ERC20Swap,m.ContractABIs.ERC20Swap,e),t.next=7,c.queryFilter(c.filters.Lockup(null,null,null,r,null));case 7:return s=t.sent,t.next=10,i.queryFilter(i.filters.Lockup(null,null,null,null,r,null));case 10:o=t.sent,vc(n,fc,c,r,s),vc(n,Ec,i,r,o);case 13:case"end":return t.stop()}}),t)})))),function(){return Ac=!0}}(a,e,(function(e){E((function(t){return t.concat(e)}))}));return function(){t&&t()}}}),[a,s,O]),Object(l.useEffect)((function(){a&&R&&(y(!0),Object(de.a)(le.a.mark((function e(){var t,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.provider.getBlockNumber();case 3:t=e.sent,n=R.data.timelock.toNumber(),P(n>t?parseFloat(((n-t)*jc/3600).toFixed(2)):-1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(JSON.stringify(e.t0));case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))())}),[R,P,a]);var D=function(){var e=Object(de.a)(le.a.mark((function e(){var t,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R&&a){e.next=2;break}return e.abrupt("return");case 2:if(y(!0),e.prev=3,o(""),"Ether"!==R.type){e.next=18;break}return e.t0=Bt,e.t1=a,e.next=10,R.contract.populateTransaction.refund(R.data.preimageHash,R.data.amount,R.data.claimAddress,R.data.timelock);case 10:return e.t2=e.sent,e.next=13,(0,e.t0)(e.t1,e.t2);case 13:return t=e.sent,e.next=16,t.wait();case 16:e.next=28;break;case 18:return e.t3=Bt,e.t4=a,e.next=22,R.contract.populateTransaction.refund(R.data.preimageHash,R.data.amount,R.data.tokenAddress,R.data.claimAddress,R.data.timelock);case 22:return e.t5=e.sent,e.next=25,(0,e.t3)(e.t4,e.t5);case 25:return n=e.sent,e.next=28,n.wait();case 28:E((function(e){return e.filter((function(e){return e.id!==R.id}))})),g(void 0),P(void 0),e.next=36;break;case 33:e.prev=33,e.t6=e.catch(3),o(JSON.stringify(e.t6));case 36:return e.prev=36,y(!1),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[3,33,36,39]])})));return function(){return e.apply(this,arguments)}}(),k=S?S<=-1?"Refund":"Refundable in ~".concat(S," hours"):"Select swap to refund",B=!(!p&&S&&S<=-1),M=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(N.a,{container:!0,direction:"column",wrap:"nowrap",alignItems:"center",children:[Object(j.jsx)(Ct,{setError:o,setSigner:r,setWrongChain:b}),Object(j.jsx)(rc.a,{className:e.list,children:Object.values(f).map((function(e){return Object(j.jsx)(cc.a,{button:!0,selected:(null===R||void 0===R?void 0:R.id)===e.id,onClick:function(){g(e)},children:Object(j.jsx)(ic.a,{children:Object(j.jsxs)(N.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",children:[Object(j.jsx)(N.a,{item:!0,xs:12,sm:5,children:Object(j.jsxs)(_t.a,{variant:"body2",children:["ID: ",e.id]})}),Object(j.jsx)(_t.a,{variant:"caption",children:new Date(e.date).toLocaleString()})]})})},e.id)}))})]}),Object(j.jsx)("div",{})]});return Object(j.jsx)(wt,{title:"Check status or refund",content:M,mainButtonVisible:!0,mainButtonDisabled:B,mainButtonLoading:L,mainButtonText:k,errorMessage:s,onMainButtonClick:D})},Cc=Object(w.a)((function(){return Object(I.a)({root:{display:"flex","flex-direction":"column","justify-content":"space-between",flex:1,minHeight:440},select:{marginTop:"2rem"}})})),_c=[{id:O.c.BTC},{id:O.c.ETH,label:"ETH/ERC20"},{id:O.c.LTC}],Sc=function(e){var t=Cc(),n=Object(l.useState)(_c[0]),a=Object(T.a)(n,2),r=a[0],c=a[1],i=r.id===O.c.BTC||r.id===O.c.LTC;return Object(j.jsx)(N.a,{container:!0,direction:"column",wrap:"nowrap",alignItems:"center",children:Object(j.jsx)(N.a,{item:!0,container:!0,direction:"column",wrap:"nowrap",children:Object(j.jsx)(Gn,{children:Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(N.a,{item:!0,container:!0,justify:"center",className:t.select,children:Object(j.jsx)(jt.a,{variant:"outlined",children:Object(j.jsx)(_n.a,{value:r.id,onChange:function(e){return c(_c.find((function(t){return t.id===e.target.value})))},children:_c.map((function(e){return Object(j.jsx)(Sn.a,{value:e.id,children:e.label||e.id},e.id)}))})})}),i?Object(j.jsx)(Oc,{swapId:e.swapId,asset:r.id}):Object(j.jsx)(gc,{})]})})})})};function Pc(){return Object(j.jsx)(ac,{children:Object(j.jsxs)(N.a,{container:!0,direction:"column",wrap:"nowrap",alignItems:"center",children:[Object(j.jsx)(yr,{children:"Liiska CoinSwap"}),Object(j.jsx)(Tr,{}),Object(j.jsx)(N.a,{item:!0,container:!0,direction:"column",wrap:"nowrap",children:Object(j.jsxs)(b.d,{children:[Object(j.jsx)(b.b,{path:Nc.NEW_SWAP,sensitive:!0,strict:!1,exact:!0,render:function(e){var t=e.history,n=e.match.params,a=n.swapProvider,r=n.receiveAsset,c=n.sendAsset,i=e.location,s=new URLSearchParams(i.search),o=s.get("sendAmount"),u=s.get("receiveAmount");if(!a||!c||!r||!o||!u)return t.replace(Nc.HOME),null;var l=a,d=c,p=r;return l&&d&&p?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Gn,{children:Object(j.jsx)(Ic,{provider:l,sendAsset:d,sendAmount:o,receiveAsset:p,receiveAmount:u})}),Object(j.jsx)(hr,{provider:l})]}):(t.replace(Nc.HOME),null)}}),Object(j.jsx)(b.b,{path:Nc.BOLTZ_REFUND_DETAIL,sensitive:!0,strict:!1,exact:!0,render:function(e){var t=e.match.params.swapId;return Object(j.jsx)(Sc,{swapId:t})}}),Object(j.jsx)(b.b,{exact:!0,path:Nc.BOLTZ_REFUND,children:Object(j.jsx)(Sc,{})}),Object(j.jsx)(b.b,{exact:!0,path:Nc.HOME,children:Object(j.jsx)(rr,{})}),Object(j.jsx)(b.b,{path:"*",children:Object(j.jsx)(b.a,{to:Nc.HOME})})]})})]})})}var Nc={HOME:"/",NEW_SWAP:"/swap/:swapProvider/:sendAsset/:receiveAsset",BOLTZ_REFUND_DETAIL:"/boltz/refund/:swapId",BOLTZ_REFUND:"/boltz/refund"},wc=function(e,t,n){for(var a=e,r=0,c=Object.keys(t);r<c.length;r++){var i=c[r];a=a.replace(":".concat(i),t[i])}return"".concat(a,"?").concat(n.toString())};function Ic(e){switch(e.provider){case Rn.BOLTZ:return Object(j.jsx)(Hn,Object(P.a)({},e));case Rn.TDEX:return Object(j.jsx)(Ir,Object(P.a)({},e));case Rn.COMIT:return Object(j.jsx)(pr,Object(P.a)({},e));default:return null}}var Lc=Object($e.a)({reducer:{boltz:ot,tdex:Xa}}),yc=Object(u.a)();var Dc=function(){return Object(j.jsxs)(o.a,{theme:Object(s.a)(mr),children:[Object(j.jsx)(i.a,{}),Object(j.jsx)(E,{children:Object(j.jsx)(S,{children:Object(j.jsx)(p.a,{store:Lc,children:Object(j.jsx)(b.c,{history:yc,children:Object(j.jsx)(Pc,{})})})})})]})};n(1231),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(j.jsx)(Dc,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(59),r=function(e){return e.toString("hex")},c=function(e){var t=a.ECPair.makeRandom({network:e});return{publicKey:r(t.publicKey),privateKey:r(t.privateKey)}}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return R}));var a,r,c,i,s,o=n(29),u=(n(0),n.p+"static/media/Bitcoin.0b681011.svg"),l=n.p+"static/media/Ether.a9c0ef40.svg",d=n.p+"static/media/LightningBitcoin.1597bca4.svg",p=n.p+"static/media/LightningLitecoin.c5fb4023.svg",b=n.p+"static/media/LiquidCAD.051f6612.png",T=n.p+"static/media/LiquidTether.bdfd5ba4.svg",m=n.p+"static/media/Litecoin.bfddd387.svg",O=n.p+"static/media/Monero.650b7bd1.svg",j={Ether:l,Tether:n.p+"static/media/TetherLogo.10d27257.svg",Bitcoin:u,Litecoin:m,LiquidBitcoin:"data:image/png;base64,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",LiquidTether:T,LiquidCAD:b,LightningBitcoin:d,LightningLitecoin:p,Monero:O},h=n(1),A=function(e,t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"label-icon",children:Object(h.jsx)("img",{style:{width:"2rem",marginRight:"0.5rem"},src:j[t],alt:e})}),Object(h.jsx)("span",{children:e})]})};!function(e){e[e.BITCOIN=0]="BITCOIN",e[e.ETHEREUM=1]="ETHEREUM",e[e.LIQUID=2]="LIQUID",e[e.LITECOIN=3]="LITECOIN",e[e.MONERO=4]="MONERO"}(a||(a={})),function(e){e[e.ONCHAIN=0]="ONCHAIN",e[e.LIGHTNING=1]="LIGHTNING"}(r||(r={})),function(e){e[e.Ether=0]="Ether",e[e.ERC20=1]="ERC20",e[e.Omni=2]="Omni",e[e.RGB=3]="RGB"}(c||(c={})),function(e){e.BTC="BTC",e.LIGHTNING_BTC="Lightning BTC",e.LIQUID_BTC="Liquid BTC",e.LTC="LTC",e.LIGHTNING_LTC="Lightning LTC",e.ETH="ETH",e.ETH_USDT="Ethereum USDt",e.MONERO="XMR",e.LIQUID_USDT="Liquid USDt",e.LIQUID_CAD="Liquid CAD"}(s||(s={}));var f,E;t.c=s;!function(e){e.BTC="Bitcoin",e.LTC="Litecoin",e.USDT="Tether USD",e.ETH="Ether",e.MONERO="Monero",e.CAD="CAD"}(f||(f={})),function(e){e.Ether="Ether",e.ERC20="ERC20",e.Lightning="Lightning",e.BitcoinLike="BitcoinLike",e.Monero="Monero",e.Liquid="Liquid"}(E||(E={}));var x=(i={},Object(o.a)(i,s.BTC,{id:s.BTC,name:f.BTC,symbol:"BTC",label:A("Bitcoin","Bitcoin"),transport:{chain:a.BITCOIN,layer:r.ONCHAIN},swapValues:{label:"Bitcoin",type:E.BitcoinLike}}),Object(o.a)(i,s.LIGHTNING_BTC,{id:s.LIGHTNING_BTC,name:f.BTC,symbol:"BTC",label:A("LN-BTC","LightningBitcoin"),transport:{chain:a.BITCOIN,layer:r.LIGHTNING},swapValues:{label:"Bitcoin Lightning",type:E.Lightning}}),Object(o.a)(i,s.LIQUID_BTC,{id:s.LIQUID_BTC,name:f.BTC,symbol:"L-BTC",label:A("L-BTC","LiquidBitcoin"),transport:{chain:a.LIQUID,layer:r.ONCHAIN},swapValues:{label:"Bitcoin Liquid",type:E.Liquid}}),Object(o.a)(i,s.LIQUID_USDT,{id:s.LIQUID_USDT,name:f.USDT,symbol:"USDt",transport:{chain:a.LIQUID,layer:r.ONCHAIN},label:A("USDt","LiquidTether"),swapValues:{label:"Tether Liquid",type:E.Liquid}}),Object(o.a)(i,s.LIQUID_CAD,{id:s.LIQUID_CAD,name:f.CAD,symbol:"LCAD",transport:{chain:a.LIQUID,layer:r.ONCHAIN},label:A("LCAD","LiquidCAD"),swapValues:{label:"Liquid CAD",type:E.Liquid}}),Object(o.a)(i,s.ETH,{id:s.ETH,name:f.ETH,symbol:"ETH",label:A("Ether","Ether"),transport:{chain:a.ETHEREUM,layer:r.ONCHAIN,extraType:c.Ether},swapValues:{label:"Ether",type:E.Ether}}),Object(o.a)(i,s.ETH_USDT,{id:s.ETH_USDT,name:f.USDT,symbol:"USDT",label:A("USDT","Tether"),transport:{chain:a.ETHEREUM,layer:r.ONCHAIN,extraType:c.ERC20},swapValues:{label:"Tether",type:E.ERC20}}),Object(o.a)(i,s.LTC,{id:s.LTC,name:f.LTC,symbol:"LTC",label:A("Litecoin","Litecoin"),transport:{chain:a.LITECOIN,layer:r.ONCHAIN},swapValues:{label:"Litecoin",type:E.BitcoinLike}}),Object(o.a)(i,s.LIGHTNING_LTC,{id:s.LIGHTNING_LTC,name:f.LTC,symbol:"LTC",label:A("LN-LTC","LightningLitecoin"),transport:{chain:a.LITECOIN,layer:r.LIGHTNING},swapValues:{label:"Litecoin Lightning",type:E.Lightning}}),Object(o.a)(i,s.MONERO,{id:s.MONERO,name:f.MONERO,symbol:"XMR",label:A("Monero","Monero"),transport:{chain:a.MONERO,layer:r.ONCHAIN},swapValues:{label:"Monero",type:E.Monero}}),i),v=Object.values(x),R={BTC:[{id:"Sats",value:"1"},{id:"BTC",value:"2"}],LTC:[{id:"Litoshi",value:"1"},{id:"LTC",value:"2"}],ETH:[{id:"Ether",value:"2"}],USDT:[{id:"USDT",value:"2"}]}},561:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return r}));n(125);var r=function(t){var n=e.allocUnsafe(t);return a.crypto.getRandomValues(n),n}}).call(this,n(7).Buffer,n(38))},617:function(e,t){},619:function(e,t){},62:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return A})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"h",(function(){return R})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return P}));var a=n(22),r=n(4),c=n.n(r),i=n(28),s=n(158),o=n(1236),u=n(59),l=n(60),d=n(385),p=n.n(d),b=n(111),T=n(204),m=n(384),O=n(71),j=n(13),h=function(e){var t=f();t.push(e),E(t)},A=function(e){var t=f(),n=t.findIndex((function(t){return t.swapId===e}));-1!==n&&(t.splice(n,1),E(t))},f=function(){return JSON.parse(localStorage.getItem("boltzSwaps")||"[]")},E=function(e){localStorage.setItem("boltzSwaps",JSON.stringify(e))},x=function(e,t){return t.every((function(t){return Object.prototype.hasOwnProperty.call(e,t)}))},v=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="application/json"===e.t0?3:"image/png"===e.t0?8:22;break;case 3:return(a=new window.FileReader).readAsText(t),e.next=7,new Promise((function(e){a.onload=function(){n=JSON.parse(a.result),e()}}));case 7:return e.abrupt("break",24);case 8:return p()(t).then((function(e){n=JSON.parse(e.data)})).catch((function(){return n={}})),e.prev=9,e.next=12,p()(t);case 12:r=e.sent,n=JSON.parse(r.data),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(9),n={};case 19:return e.prev=19,e.abrupt("break",24);case 22:return window.alert("Unknown refund file format: ".concat(t.type)),e.abrupt("return");case 24:return i=x(n,["swapId","currency","redeemScript","privateKey","timeoutBlockHeight"]),e.abrupt("return",i?n:void 0);case 26:case"end":return e.stop()}}),e,null,[[9,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t,n,a){var r=e.currency;return g(a.apiEndpoint).pipe(Object(s.a)((function(c){return S(e,n,t,r,c,a)})),Object(s.a)((function(e){return P(r,e.refundTransaction.toHex(),a.apiEndpoint)})))},g=function(e){return Object(b.a)(fetch(Object(O.d)(e))).pipe(Object(s.a)((function(e){return Object(b.a)(e.json()).pipe(Object(s.a)((function(t){return e.ok?Object(T.a)(t):Object(m.a)(t)})))})))},C=function(t){return e.from(t,"hex")},_=function(e,t){return e===j.c.BTC?t.bitcoinConstants:t.litecoinConstants},S=function(e,t,n,r,c,i){var s=C(e.redeemScript),o=u.Transaction.fromHex(t);return Object(T.a)({refundTransaction:Object(l.constructRefundTransaction)([Object(a.a)({redeemScript:s,txHash:o.getHash(),keys:u.ECPair.fromPrivateKey(C(e.privateKey))},Object(l.detectSwap)(s,o))],u.address.toOutputScript(n,_(r,i)),e.timeoutBlockHeight,c[r]),lockupTransactionId:o.getId()})},P=function(e,t,n){return Object(b.a)(fetch(Object(O.a)(n),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({currency:e,transactionHex:t})})).pipe(Object(s.a)((function(e){return e.json()})),Object(o.a)((function(e){return!!e.error})),Object(s.a)((function(e){throw new Error("Failed to broadcast transaction: ".concat(e.error))})))}}).call(this,n(7).Buffer)},629:function(e,t){},631:function(e,t){},642:function(e,t){},644:function(e,t){},71:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var a=function(e){return"".concat(e,"/getpairs")},r=function(e){return"".concat(e,"/getcontracts")},c=function(e){return"".concat(e,"/createSwap")},i=function(e){return"".concat(e,"/streamswapstatus")},s=function(e){return"".concat(e,"/swapstatus")},o=function(e){return"".concat(e,"/getswaptransaction")},u=function(e){return"".concat(e,"/getfeeestimation")},l=function(e){return"".concat(e,"/broadcasttransaction")}},717:function(e,t){},777:function(e,t){},836:function(e,t){},838:function(e,t){},845:function(e,t){},846:function(e,t){}},[[1232,1,2]]]);
//# sourceMappingURL=main.c7df6aa2.chunk.js.map